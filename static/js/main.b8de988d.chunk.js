(this["webpackJsonpblogging-platform"]=this["webpackJsonpblogging-platform"]||[]).push([[0],{79:function(e,t,c){},80:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var a=c(8),s=c.n(a),r=c(64),l=c.n(r),n=(c(76),c(77),c(78),c(79),c(15)),i=(c(80),c(20)),o=c(17),b=c(1);function j(e){var t=e.to,c=e.onClick,a=e.text;return Object(b.jsx)(o.b,{className:"nav-link",to:t,onClick:c,children:a})}function d(e){var t=e.to,c=e.style,a=e.onClick,s=e.text,r=e.isCollapsed;return Object(b.jsx)(o.b,{type:"button",to:t,className:"link-button btn btn-outline-"+c+(r?" ms-2":" mt-3 d-block"),onClick:a,children:s})}var u=[{to:"/",text:"About"},{to:"/blogs",text:"Blogs"},{to:"/bloggers",text:"Bloggers"}],g=[{to:"/login",text:"Sign In",style:"success"},{to:"/signup",text:"Create Account",style:"info"}],O=[{to:"/",text:"Log Out",style:"danger"}];function h(e){var t=e.userFirstName,c=e.userLastName,s=e.logOut,r=Object(a.useState)(!0),l=Object(n.a)(r,2),i=l[0],h=l[1],m=function(){h(!i)};return Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary fixed-top",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(o.b,{className:"navbar-brand",to:"/",children:"Blogging Platform"}),Object(b.jsx)("button",{className:"navbar-toggler collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarColor01","aria-controls":"navbarColor01","aria-expanded":!!i,"aria-label":"Toggle navigation",onClick:m,children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("div",{className:"".concat(i?"collapse":null," navbar-collapse"),id:"navbarColor01",children:[Object(b.jsx)("ul",{className:"navbar-nav me-auto",children:u.map((function(e,t){return Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(j,{to:e.to,onClick:function(){i||m()},text:e.text})},"nav-item-"+t)}))}),Object(b.jsx)("div",{children:t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(o.b,{to:"/dashboard",className:"text-light text-muted",style:{textDecoration:"none"},onClick:function(){i||m()},children:[Object(b.jsx)("span",{className:"me-2",children:Object(b.jsx)("i",{className:"bi bi-person-circle"})}),Object(b.jsxs)("span",{className:"me-3",children:[t," ",c]})]}),O.map((function(e,t){return Object(b.jsx)(d,{to:e.to,text:e.text,style:e.style,isCollapsed:i,onClick:function(){s(),i||m()}},"private-link-btn-"+t)}))]}):Object(b.jsx)(b.Fragment,{children:g.map((function(e,t){return Object(b.jsx)(d,{to:e.to,text:e.text,style:e.style,isCollapsed:i,onClick:i?null:function(){return m()}},"public-link-btn-"+t)}))})})]})]})})}var m,f=c(58),x=c(36),p=c(9);try{m=Object(f.a)()}catch(ye){m=Object(f.b)({apiKey:"AIzaSyCDziv5T2lwy_1jcHriik2c9hWd1qPcY_s",authDomain:"blogging-platform-4ebc2.firebaseapp.com",databaseURL:"https://blogging-platform-4ebc2-default-rtdb.firebaseio.com",projectId:"blogging-platform-4ebc2",storageBucket:"blogging-platform-4ebc2.appspot.com",messagingSenderId:"669118367342",appId:"1:669118367342:web:0348ae0115ae90740dc87f",measurementId:"G-PQXT1EE1GJ"})}var y=Object(x.b)(m),v=Object(p.b)(m),N=Object(a.createContext)(),k=function(){return Object(a.useContext)(N)};function w(e){var t=e.children,c=Object(a.useState)(),s=Object(n.a)(c,2),r=s[0],l=s[1],i=Object(a.useState)(),o=Object(n.a)(i,2),j=o[0],d=o[1],u=Object(a.useState)(),g=Object(n.a)(u,2),O=g[0],h=g[1],m={usersListOrderedByKeys:j,usersListOrderedByUserName:r,blogsListOrderedByKeys:O,fetchUsersListOrderedByKeys:function(){var e=Object(p.f)(Object(p.g)(v,"users/listOrderedByKeys"),Object(p.c)(10));Object(p.d)(e,(function(e){var t=e.val();console.log("users list ordered by user id object:",t),d(t)}))},fetchUsersListOrderedByUserName:function(){var e=Object(p.f)(Object(p.g)(v,"users/listOrderedByUserName"),Object(p.c)(10));Object(p.d)(e,(function(e){var t=e.val();console.log("users list ordered by user name object:",t),l(t)}))},fetchBlogsListOrderedByKeys:function(){var e=Object(p.f)(Object(p.g)(v,"blogs/listOrderedByKeys"),Object(p.c)(10));Object(p.d)(e,(function(e){var t=e.val();console.log("blogs list ordered by keys:",t),h(t)}))}};return Object(b.jsx)(N.Provider,{value:m,children:t})}function B(e){var t=e.blog;return Object(b.jsxs)("div",{className:"blog-card",children:[Object(b.jsx)("hr",{}),Object(b.jsx)(o.b,{to:"/blogs/"+t.link,children:Object(b.jsx)("h3",{children:t.title})}),Object(b.jsxs)("p",{children:["by",Object(b.jsx)(o.b,{to:"bloggers/"+t.userName,className:"ms-2",children:t.author})]}),Object(b.jsx)("p",{children:t.description})]})}function C(){var e=k(),t=e.blogsListOrderedByKeys,c=e.fetchBlogsListOrderedByKeys;return Object(a.useEffect)((function(){c()}),[]),t?Object(b.jsx)("div",{className:"blogs-page",children:Object(b.jsxs)("div",{className:"blogs-list",children:[Object(b.jsx)("h1",{children:"Blogs"}),Object.entries(t).map((function(e,t){return Object(b.jsx)(B,{blog:e[1]},"blog-card-"+t)}))]})}):Object(b.jsx)("p",{children:"Downloading blogs or... there is no blogs..."})}var L=c(13),D=c(0),I=c.n(D),K=c(6),A=Object(a.createContext)(),S=function(){return Object(a.useContext)(A)};function T(e){var t=e.children,c=Object(a.useState)(null),s=Object(n.a)(c,2),r=s[0],l=s[1],i=Object(a.useState)(),o=Object(n.a)(i,2),j=o[0],d=o[1],u=Object(a.useState)(),g=Object(n.a)(u,2),O=g[0],h=g[1],m=function(){var e=Object(K.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.e)(y);case 3:l(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Object(x.c)(y,(function(e){if(e){l(e),console.log("user logged in. user:",e);var t=Object(p.g)(v,"users/"+e.uid+"/publicData/data");Object(p.d)(t,(function(e){var t=e.val();console.log("user public data:",t),d(t)}))}else l(null),d(null),console.log("user is logged out")}))}),[]);var f={signIn:function(e){var t=e.email,c=e.password;return Object(x.d)(y,t,c).catch((function(e){alert(e.message)}))},signUp:function(e){return Object(x.a)(y,e.email,e.password).then((function(t){console.log("user is sign up. userCredential.user: ",t.user),Object(p.i)(Object(p.g)(v,"users/"+t.user.uid),{privateData:{email:e.email},publicData:{data:{firstName:e.firstName,lastName:e.lastName,userName:e.userName}}}).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"users/listOrderedByKeys/"+t.user.uid),{firstName:e.firstName,lastName:e.lastName,userName:e.userName}).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"users/listOrderedByUserName/"+e.userName),{firstName:e.firstName,lastName:e.lastName,userId:t.user.uid}).catch((function(e){alert(e.message)}))})).catch((function(e){alert(e.message)}))},logOut:m,user:r,userPublicData:j,userBlogsList:O,fetchUserBlogsList:function(){var e=Object(p.g)(v,"users/"+r.uid+"/publicData/blogs");Object(p.d)(e,(function(e){var t=e.val();console.log("current user blogs list data object:",t),h(t)}))}};return Object(b.jsx)(A.Provider,{value:f,children:t})}var U=Object(a.createContext)(),P=function(){return Object(a.useContext)(U)};function E(e){var t=e.children,c=S(),s=c.userPublicData,r=c.user,l=Object(a.useState)(),i=Object(n.a)(l,2),o=i[0],j=i[1],d=Object(a.useState)(),u=Object(n.a)(d,2),g=u[0],O=u[1],h={blog:o,blogKey:g,getBlogKeyByLink:function(e){var t=Object(p.g)(v,"blogs/listOrderedByLinks/"+e);Object(p.d)(t,(function(e){var t=e.val();t&&(console.log("blog key:",t.key),O(t.key))}))},fetchBlog:function(e){var t=Object(p.g)(v,"blogs/"+e);Object(p.d)(t,(function(e){var t=e.val();console.log("blog object:",t),j(t)}))},addBlog:function(e){var t=Object(p.e)(Object(p.a)(Object(p.g)(v),"blogs")).key;t&&e?(Object(p.i)(Object(p.g)(v,"blogs/"+t+"/metadata"),Object(L.a)({author:s.firstName+" "+s.lastName,userName:s.userName,userId:r.uid},e)).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"users/"+r.uid+"/publicData/blogs/"+t),{title:e.title,link:e.link}).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"blogs/listOrderedByKeys/"+t),Object(L.a)({author:s.firstName+" "+s.lastName,userName:s.userName,userId:r.uid},e)).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"blogs/listOrderedByLinks/"+e.link),{userId:r.uid,title:e.title,key:t}).catch((function(e){alert(e.message)}))):alert("Can't add article... No blog data passed or/and no key generated... Try again.")},updateBlog:function(e,t,c){t&&c?(Object(p.i)(Object(p.g)(v,"blogs/"+c+"/metadata"),Object(L.a)(Object(L.a)({},e),t)).catch((function(e){alert(e.message)})),e.title===t.title&&e.link===t.link||Object(p.i)(Object(p.g)(v,"users/"+r.uid+"/publicData/blogs/"+c),{title:t.title,link:t.link}).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"blogs/listOrderedByKeys/"+c),Object(L.a)(Object(L.a)({},e),t)).catch((function(e){alert(e.message)})),e.link!==t.link&&(Object(p.i)(Object(p.g)(v,"blogs/listOrderedByLinks/"+t.link),{userId:e.userId,title:t.title,key:c}).then((function(){console.log("blog with new link:"+t.link+" was added to blogs list ordered by links.")})).catch((function(e){alert(e.message)})),Object(p.h)(Object(p.g)(v,"blogs/listOrderedByLinks/"+e.link)).then((function(){console.log("blog with old link:"+e.link+" was deleted from blogs list ordered by links.")})).catch((function(e){alert(e.message)})))):alert("Can't update blog... No blog data or/and no key passed... Try again.")}};return Object(b.jsx)(U.Provider,{value:h,children:t})}function Y(e){var t=e.articles,c=e.url;return t?Object(b.jsxs)("nav",{className:"table-of-content",children:[Object(b.jsx)("hr",{}),Object(b.jsx)("h5",{className:"text-center",children:"Table of content"}),Object(b.jsx)("ul",{children:Object.entries(t).map((function(e){return Object(b.jsx)("li",{children:Object(b.jsx)(o.b,{to:c+"/"+e[1].link,className:"d-block",children:e[1].title})},e[0])}))})]}):Object(b.jsx)("p",{children:"There are no articles in this blog..."})}function F(e){var t=e.item,c=e.headerClassname;return Object(b.jsxs)("header",{className:"text-center "+c,children:[Object(b.jsx)("h1",{children:t.title}),Object(b.jsxs)("p",{children:["by",Object(b.jsx)(o.b,{to:"/bloggers/"+t.userName,className:"ms-2",children:t.author})]}),Object(b.jsxs)("p",{children:[t.createdAt&&t.createdAt,t.updatedAt&&(t.updatedAt===t.createdAt?null:" / "+t.updatedAt)]}),Object(b.jsx)("p",{children:t.description})]})}function R(){var e=Object(i.g)().url,t=Object(i.f)().blogLink,c=P(),s=c.blog,r=c.fetchBlog,l=c.getBlogKeyByLink,n=c.blogKey;return Object(a.useEffect)((function(){t&&l(t)}),[t]),Object(a.useEffect)((function(){n&&r(n)}),[n]),Object(a.useEffect)((function(){s&&console.log("fetched blog:",s)}),[s]),s?Object(b.jsxs)("div",{className:"blog-page",children:[Object(b.jsx)(F,{item:s.metadata,headerClassname:"blog-header"}),Object(b.jsx)(Y,{articles:s.articlesListOrderedByKeys,url:e})]}):Object(b.jsx)("p",{children:"Downloading data or there is no data..."})}var q=c(16);function M(e){var t=e.structure,c=e.data,s=e.onSubmit,r=e.text,l=e.to,i=e.formClassname,o=Object(a.useState)(),j=Object(n.a)(o,2),u=j[0],g=j[1];return Object(a.useEffect)((function(){if(t){var e=[];Object.keys(t).map((function(a){var s=c&&c[a]?[a,c[a]]:[a,t[a].value?t[a].value:""];return e.push(s)})),c?console.log("item array created from passed data:",e):console.log("item array created from structure template:",e),g([].concat(e))}}),[t,c]),!t||t&&!u?Object(b.jsx)("p",{children:"Nothing has been passed to the Form component..."}):Object(b.jsxs)("form",{className:i,children:[Object(b.jsx)("div",{className:"row mb-3",children:Object.keys(t).map((function(e,c){return Object(b.jsx)("div",{className:"mb-2",children:Object(b.jsx)("input",{className:"form-control",type:t[e].type?t[e].type:"text",value:u[c]?u[c][1]:"",placeholder:t[e].placeholder?t[e].placeholder:e,onChange:function(e){var t=Object(q.a)(u);t[c]=Object(q.a)(t[c]),t[c][1]=e.target.value,g(Object(q.a)(t))}})},e+"-input-div")}))}),Object(b.jsx)(d,{text:r,style:"success",to:l,onClick:function(){s(Object.fromEntries(u))}})]})}var V={email:{type:"email"},password:{type:"password"}},G={firstName:{placeholder:"input your real first name"},lastName:{placeholder:"input your real last name"},userName:{placeholder:"input your user name using lower case letters only"}},H=Object(L.a)(Object(L.a)({},G),V),W={title:{},description:{}};function _(){var e=S(),t=e.userPublicData,c=e.updateUserPublicData;e.deleteUserAccount;return t?Object(b.jsxs)("div",{className:"edit-user-data-section",children:[Object(b.jsx)(M,{structure:G,data:t,onSubmit:function(e){e.firstName.replace(/\s/g,"").length&&e.lastName.replace(/\s/g,"").length&&e.userName.replace(/\s/g,"").length?c(e):alert("You need to complete all input fields (not only white spaces...) to update your account data!")},to:"/dashboard",text:"save changes",formClassname:"edit-user-data-form"}),Object(b.jsx)(d,{to:"/dashboard",style:"danger",text:"delete my account",onClick:function(){confirm("Are you sure, you want to delete your account & your articles forever? There's no turning back... Delete account?")&&alert("Sorry, for a moment delete account function is being updating, so it's off... Please, contact to the owner of this app to delete your account manually or wait for the updates.")}})]}):Object(b.jsx)("p",{children:"Downloading your data..."})}function J(e){return e.replace(/ /g,"-").toLowerCase()}function z(){var e=Object(i.f)().blogLink,t=P(),c=t.blog,s=t.fetchBlog,r=t.getBlogKeyByLink,l=t.blogKey,n=t.updateBlog;return Object(a.useEffect)((function(){e&&r(e)}),[e]),Object(a.useEffect)((function(){l&&s(l)}),[l]),Object(a.useEffect)((function(){c&&console.log("fetched blog:",c)}),[c]),c?Object(b.jsxs)("div",{className:"blog-edition-section row",children:[Object(b.jsx)("div",{className:"col-lg",children:Object(b.jsx)(M,{structure:W,data:c.metadata,onSubmit:function(e){if(e.title.replace(/\s/g,"").length&&e.description.replace(/\s/g,"").length){var t=J(e.title),a=Object(L.a)(Object(L.a)({},e),{},{link:t});n(c.metadata,a,l)}else alert("You need to complete all input fields (not only white spaces...) to update your blog data... Try again!")},text:"save changes",to:"/dashboard/user-blogs",formClassname:"blog-edition-form"})}),Object(b.jsxs)("div",{className:"col-lg",children:[Object(b.jsx)("h4",{className:"text-center",children:"Articles"}),Object(b.jsx)("hr",{}),c.articlesListOrderedByKeys?Object.entries(c.articlesListOrderedByKeys).map((function(t){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md",children:Object(b.jsx)("h5",{children:t[1].title})}),Object(b.jsxs)("div",{className:"col-md text-end",children:[Object(b.jsx)(o.b,{to:"/edit-article/"+l+"/"+t[0],className:"btn btn-secondary d-inline",children:Object(b.jsx)("i",{className:"bi bi-pencil"})}),Object(b.jsx)(o.b,{to:"/blogs/"+e+"/"+t[1].link,className:"btn btn-secondary d-inline",children:Object(b.jsx)("i",{className:"bi bi-eye"})}),Object(b.jsx)("button",{className:"btn btn-danger d-inline",onClick:function(){confirm("Are you sure, you want to delete this article from this blog forever? There's no turning back... Delete article?")&&alert("At the moment you can not delete article. Check the note in about section.")},children:Object(b.jsx)("i",{className:"bi bi-trash"})})]})]}),Object(b.jsx)("hr",{})]},t[0])})):Object(b.jsx)("div",{children:"There are no articles..."})]})]}):Object(b.jsx)("p",{children:"Downloading data or there is no data..."})}function Q(){var e=Object(i.g)(),t=e.path,c=e.url,s=S(),r=s.userBlogsList,l=s.fetchUserBlogsList;return Object(a.useEffect)((function(){l()}),[]),Object(b.jsx)("div",{className:"user-blogs-section-in-dashboard",children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:t,children:Object(b.jsxs)("div",{children:[Object(b.jsx)(d,{to:"/create-blog",style:"info mb-3",text:"create new blog"}),r?Object.entries(r).map((function(e){return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col",children:Object(b.jsx)(o.b,{to:c+"/"+e[1].link,children:Object(b.jsx)("h5",{children:e[1].title})})}),Object(b.jsxs)("div",{className:"col-4 text-end",children:[Object(b.jsx)(o.b,{to:"/create-article/"+e[0]+"/"+e[1].title,className:"text-info",children:Object(b.jsx)("i",{className:"bi bi-plus-square me-2"})}),Object(b.jsx)(o.b,{className:"text-primary",to:"/blogs/".concat(e[1].link),children:Object(b.jsx)("i",{className:"bi bi-eye me-2"})}),Object(b.jsx)(o.b,{className:"text-danger",to:"/dashboard/user-blogs",onClick:function(){confirm("Are you sure, you want to delete this blog & all articles from this blog forever? There's no turning back... Delete blog?")&&alert("At the moment you can not delete blog... Check the note in about section.")},children:Object(b.jsx)("i",{className:"bi bi-trash"})})]})]}),Object(b.jsx)("hr",{})]},e[0])})):Object(b.jsx)("div",{children:Object(b.jsx)("h5",{className:"text-center",children:"There are no blogs yet... Create one!"})})]})}),Object(b.jsx)(i.a,{path:t+"/:blogLink",children:Object(b.jsx)(z,{})})]})})}function X(e){var t=e.userId,c=Object(i.g)().path,a=S().fetchUserBlogsList;return t?Object(b.jsxs)("div",{className:"dashboard-page",children:[Object(b.jsxs)("nav",{className:"dashboard-nav text-center",children:[Object(b.jsx)(o.b,{to:"/dashboard/user-data",className:"me-2",children:"Your profile data"}),Object(b.jsx)("span",{children:" | "}),Object(b.jsx)(o.b,{to:"/dashboard/user-blogs",className:"ms-2",onClick:function(){return a(t)},children:"Your blogs"})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:c,children:Object(b.jsx)(_,{})}),Object(b.jsx)(i.a,{path:"".concat(c,"/user-data"),children:Object(b.jsx)(_,{})}),Object(b.jsx)(i.a,{path:"".concat(c,"/user-blogs"),children:Object(b.jsx)(Q,{})})]})]}):Object(b.jsx)("p",{children:"You need to be logged to see your dashboard..."})}function Z(e){var t=e.bloggerData;return Object(b.jsxs)("div",{className:"blogger-card",children:[Object(b.jsx)("hr",{}),Object(b.jsxs)(o.b,{to:"bloggers/"+t.userName,className:"d-block my-2",style:{textDecoration:"none"},children:[Object(b.jsx)("i",{className:"bi bi-person-circle me-2"}),t.firstName+" "+t.lastName+" | @"+t.userName]})]})}function $(){var e=k(),t=e.fetchUsersListOrderedByUserName,c=e.usersListOrderedByUserName;return Object(a.useEffect)((function(){c||t()}),[c]),c?Object(b.jsxs)("section",{className:"bloggers-page",children:[Object(b.jsx)("h1",{children:"Bloggers"}),Object(b.jsx)("nav",{className:"bloggers-list",children:Object.entries(c).map((function(e){return Object(b.jsx)(Z,{bloggerData:Object(L.a)(Object(L.a)({},e[1]),{},{userName:e[0]})},e[0])}))})]}):Object(b.jsx)("p",{children:"Downloading bloggers list or... there are no bloggers"})}function ee(){var e=P().addBlog;return Object(b.jsxs)("div",{className:"create-blog-section container",children:[Object(b.jsx)("h1",{children:"Create new blog!"}),Object(b.jsx)("hr",{}),Object(b.jsx)(M,{structure:W,text:"create blog",to:"/dashboard/user-blogs",formClassname:"create-blog-form",onSubmit:function(t){if(t.title.replace(/\s/g,"").length&&t.description.replace(/\s/g,"").length){var c=J(t.title),a=Object(L.a)(Object(L.a)({},t),{},{link:c});e(a)}else alert("You need to complete all input fields (not only white spaces...) to create new blog... Try again!")}})]})}var te=c(52),ce=c(53);function ae(e){var t=e.articleData,c=e.setArticleData;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"Editor col-lg mt-2 mx-2",style:{marginBottom:90},children:[Object(b.jsx)("p",{className:"text-center",children:"Write your content here using Markdown Syntax (ommit title)"}),Object(b.jsx)("hr",{}),Object(b.jsx)("textarea",{defaultValue:t.content,onChange:function(e){return c(Object(L.a)(Object(L.a)({},t),{},{content:e.target.value}))},style:{width:"100%",height:"80%"}})]}),Object(b.jsxs)("div",{className:"RenderedView col-lg m-2",children:[Object(b.jsx)("p",{className:"text-center",children:"Here you can see how your article would be looking like"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:t.title}),Object(b.jsx)(te.a,{children:t.content,remarkPlugins:[ce.a]})]})]})]})}var se=Object(a.createContext)(),re=function(){return Object(a.useContext)(se)};function le(e){var t=e.children,c=S(),s=c.userPublicData,r=c.user,l=Object(a.useState)(),i=Object(n.a)(l,2),o=i[0],j=i[1],d=Object(a.useState)(),u=Object(n.a)(d,2),g=u[0],O=u[1],h={article:o,articleKey:g,getArticleKeyByLink:function(e){var t=Object(p.g)(v,"articles/listOrderedByLinks/"+e);Object(p.d)(t,(function(e){var t=e.val();t&&(console.log("article key:",t.key),O(t.key))}))},fetchArticle:function(e){var t=Object(p.g)(v,"articles/"+e);Object(p.d)(t,(function(e){var t=e.val();console.log("article object:",t),j(t)}))},addArticle:function(e,t,c){var a=Object(p.e)(Object(p.a)(Object(p.g)(v),"articles")).key;a&&(Object(p.i)(Object(p.g)(v,"articles/"+a+"/metadata"),Object(L.a)(Object(L.a)({},c),{},{author:s.firstName+" "+s.lastName,userName:s.userName,userId:r.uid,blogKey:e,blogTitle:t})).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"articles/listOrderedByLinks/"+c.link),{title:c.title,key:a,userId:r.uid}).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"blogs/"+e+"/articlesListOrderedByKeys/"+a),{link:c.link,title:c.title,userId:r.uid}).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"blogs/"+e+"/articlesListOrderedByLinks/"+c.link),{title:c.title,key:a,userId:r.uid}).catch((function(e){alert(e.message)})))},updateArticle:function(e,t,c,a){t&&e?(Object(p.i)(Object(p.g)(v,"articles/"+t+"/metadata"),Object(L.a)({},e)).then((function(){console.log("Article",e.title,"was updated.")})).catch((function(e){alert(e.message)})),c?(Object(p.i)(Object(p.g)(v,"articles/listOrderedByLinks/"+e.link),{title:e.title,key:t,userId:e.userId}).then((function(){console.log("article with new link:"+e.link+" was added to articles list ordered by links.")})).catch((function(e){alert(e.message)})),a?Object(p.h)(Object(p.g)(v,"articles/listOrderedByLinks/"+a)).then((function(){console.log("article with old link:"+a+" was deleted from articles list ordered by links.")})).catch((function(e){alert(e.message)})):console.log("No old link passed..."),Object(p.i)(Object(p.g)(v,"blogs/"+e.blogKey+"/articlesListOrderedByKeys/"+t),{link:e.link,title:e.title,userId:e.userId}).catch((function(e){alert(e.message)})),Object(p.i)(Object(p.g)(v,"blogs/"+e.blogKey+"/articlesListOrderedByLinks/"+e.link),{title:e.title,key:t,userId:e.userId}).then((function(){console.log("article with new link:"+e.link+" was added to blog's articles list ordered by links.")})).catch((function(e){alert(e.message)})),a?Object(p.h)(Object(p.g)(v,"blogs/"+e.blogKey+"/articlesListOrderedByLinks/"+a)).then((function(){console.log("article with old link:"+a+" was deleted from blog's articles list ordered by links.")})).catch((function(e){alert(e.message)})):console.log("No old link passed...")):console.log("Updated article link is the same, so articles list ordered by link didn't change.")):alert("Can't update article... No article data or/and no key passed... Try again.")}};return Object(b.jsx)(se.Provider,{value:h,children:t})}function ne(){var e=Object(i.f)().blogKey,t=Object(i.f)().blogTitle,c=re().addArticle,s=Object(a.useState)({title:"",description:"",content:""}),r=Object(n.a)(s,2),l=r[0],j=r[1];return Object(b.jsxs)("div",{className:"create-article-page container",children:[Object(b.jsxs)("form",{className:"create-article-form",children:[Object(b.jsx)("h1",{children:"Create new article!"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg mb-2",children:Object(b.jsx)("input",{type:"text",className:"form-control",placeholder:"title",onChange:function(e){return j(Object(L.a)(Object(L.a)({},l),{},{title:e.target.value}))},required:!0})}),Object(b.jsx)("div",{className:"col-lg mb-2",children:Object(b.jsx)("textarea",{type:"text",className:"form-control",placeholder:"description",onChange:function(e){return j(Object(L.a)(Object(L.a)({},l),{},{description:e.target.value}))},required:!0})})]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)(ae,{articleData:l,setArticleData:j}),Object(b.jsx)(o.b,{to:"/dashboard/user-blogs",type:"button",className:"btn btn-primary mb-3",onClick:function(){if(l.title.replace(/\s/g,"").length&&l.description.replace(/\s/g,"").length){var a=J(l.title),s=new Date,r=s.getUTCDate(),n=s.getUTCMonth()+1,i=s.getUTCFullYear()+"."+n+"."+r,o=Object(L.a)(Object(L.a)({},l),{},{link:a,createdAt:i});c(e,t,o)}else alert("You need to complete all input fields (not only white spaces...) to create new article... Try again!")},children:"Create new article"})]})}function ie(e){var t=e.href,c=e.text;return Object(b.jsx)("a",{className:"footer-link d-inline me-2 ms-2",style:{textDecoration:"none"},href:t,target:"_blank",rel:"noreferrer",children:c})}var oe=[{href:"https://github.com/vadimgierko/blogging-platform",text:"Blogging Platform"},{href:"https://github.com/vadimgierko/markdown-text-editor",text:"Markdown Editor"},{href:"https://github.com/vadimgierko",text:"Vadim Gierko"}];function be(){return Object(b.jsxs)("div",{className:"footer text-center text-muted",children:[Object(b.jsx)("hr",{}),Object(b.jsx)(ie,{href:oe[0].href,text:oe[0].text}),"&",Object(b.jsx)(ie,{href:oe[1].href,text:oe[1].text}),"\xa9 2021 - 2022",Object(b.jsx)(ie,{href:oe[2].href,text:oe[2].text})]})}var je=Object(a.createContext)();function de(e){var t=e.children,c=Object(a.useState)(),s=Object(n.a)(c,2),r=s[0],l=s[1],i=Object(a.useState)(),o=Object(n.a)(i,2),j=o[0],d=o[1],u=Object(a.useState)(),g=Object(n.a)(u,2),O=g[0],h=g[1],m={bloggerPublicData:r,bloggerBlogsList:j,bloggerId:O,fetchBloggerPublicData:function(e){var t=Object(p.g)(v,"users/"+e+"/publicData/data");Object(p.d)(t,(function(e){var t=e.val();console.log("blogger public data object:",t),l(t)}))},fetchBloggerBlogsList:function(e){var t=Object(p.g)(v,"users/"+e+"/publicData/blogs");Object(p.d)(t,(function(e){var t=e.val();console.log("blogger blogs list object:",t),d(t)}))},getBloggerIdByUserName:function(e){var t=Object(p.g)(v,"users/listOrderedByUserName/"+e);Object(p.d)(t,(function(t){var c=t.val();c?(console.log("blogger id got by user name:",c.userId),h(c.userId)):console.log("There is no user with user name:",e)}))}};return Object(b.jsx)(je.Provider,{value:m,children:t})}function ue(){var e=Object(i.f)().userName,t=Object(a.useContext)(je),c=t.bloggerPublicData,s=t.fetchBloggerPublicData,r=t.bloggerBlogsList,l=t.fetchBloggerBlogsList,n=t.getBloggerIdByUserName,j=t.bloggerId;return Object(a.useEffect)((function(){e&&n(e)}),[e]),Object(a.useEffect)((function(){j&&(s(j),l(j))}),[j]),c?Object(b.jsxs)("div",{className:"blogger-page",children:[Object(b.jsx)("h1",{children:c.firstName+" "+c.lastName}),Object(b.jsx)("hr",{}),Object(b.jsxs)("p",{children:["user name: ","@"+c.userName]}),Object(b.jsx)("nav",{className:"blogger-blogs",children:r?Object.entries(r).map((function(e){return Object(b.jsx)(o.b,{to:"/blogs/"+e[1].link,children:Object(b.jsx)("h3",{children:e[1].title})},e[0])})):Object(b.jsx)("p",{children:"Downloading blogger blogs or there are no blogs..."})})]}):Object(b.jsxs)("p",{children:["Downloading data or ... there is no blogger of user name: ",c&&c.userName]})}function ge(){var e=Object(i.f)().articleLink,t=re(),c=t.article,s=t.articleKey,r=t.fetchArticle,l=t.getArticleKeyByLink;return Object(a.useEffect)((function(){e&&l(e)}),[e]),Object(a.useEffect)((function(){s&&r(s)}),[s]),c?Object(b.jsx)("div",{className:"article-page",children:Object(b.jsxs)("article",{className:"article",children:[Object(b.jsx)(F,{item:c.metadata,headerClassname:"article-header"}),Object(b.jsx)("hr",{}),Object(b.jsx)(te.a,{children:c.metadata.content,remarkPlugins:[ce.a]})]})}):Object(b.jsx)("p",{children:"Downloading article or there is no such article..."})}function Oe(){var e=S().signIn;return Object(b.jsxs)("div",{className:"sign-in-page container",children:[Object(b.jsx)("h1",{children:"Sign in!"}),Object(b.jsx)("hr",{}),Object(b.jsx)(M,{formClassname:"sign-in-form",structure:V,onSubmit:function(t){t.email.replace(/\s/g,"").length?t.password.replace(/\s/g,"").length?e(t):alert("You need to input your password (& not only white spaces...) to log in!"):alert("You need to input your email (& not only white spaces...) to log in!")},to:"/dashboard",text:"log in"})]})}function he(){var e=S().signUp;return Object(b.jsxs)("div",{className:"sign-up-page container",children:[Object(b.jsx)("h1",{children:"Create account!"}),Object(b.jsx)("hr",{}),Object(b.jsx)(M,{formClassname:"sign-up-form",structure:H,onSubmit:function(t){t.email.replace(/\s/g,"").length&&t.firstName.replace(/\s/g,"").length&&t.lastName.replace(/\s/g,"").length&&t.password.replace(/\s/g,"").length&&t.userName.replace(/\s/g,"").length?e(t):alert("You need to complete all input fields (not only white spaces...) to create an account!")},to:"/dashboard",text:"sign up"})]})}function me(){return Object(b.jsxs)("article",{className:"about-page",children:[Object(b.jsx)("h1",{children:"What you can do with Blogging Platform"}),Object(b.jsx)("hr",{}),Object(b.jsx)("p",{style:{color:"red"},children:"NOTE: I'm currently updating the app according to new database structure & security rules, so some of features, like: delete an account, blog and article & update user data are off for a few days..."}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"create & run your blog (or many blogs) after creating a free user account"}),Object(b.jsxs)("li",{children:["write & edit your articles with simple & intuitive ",Object(b.jsx)("a",{href:"https://vadimgierko.github.io/markdown-text-editor/",rel:"noreferrer",target:"_blank",children:"markdown text editor"}),", which was also created by myself"]}),Object(b.jsx)("li",{children:"read published blogs without authentication"})]}),Object(b.jsx)("p",{children:"Blogging Platform is a responsive full-stack single-page application, which supports all kinds of CRUD features, in which I have used all of my previous knowledge and skills in the field of front-end development (React, Bootstrap) and realtime database integration (Firebase)."}),Object(b.jsx)("h3",{children:"Technologies used in Blogging Platform development"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"React 17"}),Object(b.jsx)("li",{children:"React Router 5.2 (HashRouter, dynamic & nested routing)"}),Object(b.jsx)("li",{children:"React Context"}),Object(b.jsx)("li",{children:"React Markdown 7 & remark-gfm"}),Object(b.jsx)("li",{children:"Firebase 9.1 (auth, realtime database, security rules)"}),Object(b.jsx)("li",{children:"Bootstrap 5.1"}),Object(b.jsx)("li",{children:"Bootswatch 5.1"}),Object(b.jsx)("li",{children:"GitHub Pages 3.2"}),Object(b.jsx)("li",{children:"Atomic Web Design"})]})]})}function fe(){var e=Object(i.f)().articleKey,t=re(),c=t.article,s=t.fetchArticle,r=t.updateArticle,l=Object(a.useState)(),j=Object(n.a)(l,2),d=j[0],u=j[1];return Object(a.useEffect)((function(){e&&s(e)}),[e]),Object(a.useEffect)((function(){c&&(console.log("prev article metadata:",c.metadata),u(c.metadata))}),[c]),d?Object(b.jsxs)("div",{className:"update-article-page container",children:[Object(b.jsxs)("form",{className:"update-article-form",children:[Object(b.jsx)("h1",{children:"Update article!"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-lg mb-2",children:Object(b.jsx)("input",{type:"text",className:"form-control",defaultValue:d.title,onChange:function(e){return u(Object(L.a)(Object(L.a)({},d),{},{title:e.target.value}))},required:!0})}),Object(b.jsx)("div",{className:"col-lg mb-2",children:Object(b.jsx)("textarea",{type:"text",className:"form-control",defaultValue:d.description,onChange:function(e){return u(Object(L.a)(Object(L.a)({},d),{},{description:e.target.value}))},required:!0})})]})]}),Object(b.jsx)("hr",{}),Object(b.jsx)(ae,{articleData:d,setArticleData:u}),Object(b.jsx)(o.b,{to:"/dashboard/user-blogs",type:"button",className:"btn btn-primary mb-3",onClick:function(){if(d.title.replace(/\s/g,"").length&&d.description.replace(/\s/g,"").length){var t,a=new Date,s=a.getUTCDate(),l=a.getUTCMonth()+1,n=a.getUTCFullYear()+"."+l+"."+s,i=!1;if(c&&c.metadata&&c.metadata.title!==d.title){i=!0;var o=J(d.title);t=Object(L.a)(Object(L.a)({},d),{},{link:o,updatedAt:n})}else t=Object(L.a)(Object(L.a)({},d),{},{updatedAt:n});r(t,e,i,i&&c.metadata.link),u(null)}else alert("You need to complete all input fields (not only white spaces...) to create new article... Try again!")},children:"Update article"})]}):Object(b.jsx)("p",{children:"Downloading article data..."})}function xe(){var e=Object(a.useState)(null),t=Object(n.a)(e,2),c=t[0],s=t[1],r=S(),l=r.user,o=r.userPublicData,j=r.logOut;return Object(a.useEffect)((function(){s(l?l.uid:null)}),[l]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(h,{userFirstName:l&&o?o.firstName:null,userLastName:l&&o?o.lastName:null,logOut:j}),Object(b.jsx)("main",{className:"container",style:{marginTop:120},children:Object(b.jsxs)(i.c,{children:[Object(b.jsx)(i.a,{exact:!0,path:"/",children:Object(b.jsx)(me,{})}),Object(b.jsx)(i.a,{path:"/login",children:Object(b.jsx)(Oe,{})}),Object(b.jsx)(i.a,{path:"/signup",children:Object(b.jsx)(he,{})}),Object(b.jsx)(i.a,{path:"/dashboard",children:Object(b.jsx)(X,{userId:c})}),Object(b.jsx)(i.a,{path:"/blogs/:blogLink/:articleLink",children:Object(b.jsx)(ge,{})}),Object(b.jsx)(i.a,{path:"/blogs/:blogLink",children:Object(b.jsx)(R,{})}),Object(b.jsx)(i.a,{path:"/blogs",children:Object(b.jsx)(C,{})}),Object(b.jsx)(i.a,{path:"/bloggers/:userName",children:Object(b.jsx)(ue,{})}),Object(b.jsx)(i.a,{path:"/bloggers",children:Object(b.jsx)($,{})}),Object(b.jsx)(i.a,{path:"/create-blog",children:Object(b.jsx)(ee,{})}),Object(b.jsx)(i.a,{path:"/create-article/:blogKey/:blogTitle",children:Object(b.jsx)(ne,{})}),Object(b.jsx)(i.a,{path:"/edit-article/:blogKey/:articleKey",children:Object(b.jsx)(fe,{})})]})}),Object(b.jsx)(be,{})]})}var pe=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,99)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,l=t.getTTFB;c(e),a(e),s(e),r(e),l(e)}))};l.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsx)(T,{children:Object(b.jsx)(E,{children:Object(b.jsx)(le,{children:Object(b.jsx)(de,{children:Object(b.jsx)(w,{children:Object(b.jsx)(xe,{})})})})})})})}),document.getElementById("root")),pe()}},[[90,1,2]]]);
//# sourceMappingURL=main.b8de988d.chunk.js.map