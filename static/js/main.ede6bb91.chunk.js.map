{"version":3,"sources":["components/atoms/NavLink.js","components/atoms/LinkButton.js","components/organisms/Header.js","firebase.js","hooks/use-lists.js","components/molecules/BlogCard.js","components/pages/Blogs.js","hooks/use-database.js","hooks/use-blog.js","components/molecules/TableOfContent.js","components/molecules/SectionHeader.js","components/pages/Blog.js","components/organisms/Form.js","initial-data/form-structure-templates.js","components/page-sections/dashboard/UserDataSection.js","hooks/use-article.js","functions/convertTitleIntoLink.js","components/page-sections/dashboard/BlogEditionSection.js","components/page-sections/dashboard/UserBlogsSection.js","components/pages/Dashboard.js","components/molecules/BloggerCard.js","components/pages/Bloggers.js","components/pages/CreateBlog.js","components/page-sections/create-article/MarkdownEditor.js","components/pages/CreateArticle.js","components/atoms/FooterLink.js","components/organisms/Footer.js","hooks/use-blogger.js","components/pages/Blogger.js","components/pages/Article.js","components/pages/SignIn.js","components/pages/SignUp.js","components/pages/About.js","components/pages/UpdateArticle.js","App.js","reportWebVitals.js","index.js"],"names":["NavLink","to","onClick","text","className","LinkButton","style","isCollapsed","type","NAVLINKS","PUBLIC_LINK_BUTTONS","PRIVATE_LINK_BUTTONS","Header","userFirstName","userLastName","logOut","useState","isNavCollapsed","setIsNavCollapsed","handleNavCollapse","id","map","navLink","i","textDecoration","btn","app","getApp","e","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseAuth","getAuth","database","getDatabase","ListsContext","createContext","useLists","useContext","ListsProvider","children","usersListOrderedByUserName","setUsersListOrderedByUserName","usersListOrderedByKeys","setUsersListOrderedByKeys","blogsListOrderedByKeys","setBlogsListOrderedByKeys","value","fetchUsersListOrderedByKeys","listRef","query","ref","limitToFirst","onValue","snapshot","data","val","console","log","fetchUsersListOrderedByUserName","fetchBlogsListOrderedByKeys","Provider","BlogCard","blog","link","title","userName","author","description","Blogs","useEffect","Object","entries","DatabaseContext","useDatabase","DatabaseProvider","user","setUser","userPublicData","setUserPublicData","userBlogsList","setUserBlogsList","a","signOut","alert","message","onAuthStateChanged","userPublicDataRef","uid","signIn","signInData","email","password","signInWithEmailAndPassword","catch","error","signUp","signUpData","createUserWithEmailAndPassword","then","userCredential","set","privateData","publicData","firstName","lastName","userId","fetchUserBlogsList","currentUserDataRef","updateUserPublicData","userData","prevUserName","remove","deleteUserPublicAndPrivateDataAndDeleteUserFromUsersLists","deleteUserAccount","userForDelete","currentUser","deleteUser","BlogContext","useBlog","BlogProvider","setBlog","blogKey","setBlogKey","getBlogKeyByLink","blogLink","blogRef","key","fetchBlog","addBlog","blogData","newBlogKey","push","child","updateBlog","prevBlogData","updatedBlogData","deleteBlog","TableOfContent","articles","url","article","SectionHeader","item","headerClassname","createdAt","updatedAt","Blog","useRouteMatch","useParams","metadata","articlesListOrderedByKeys","Form","structure","onSubmit","formClassname","itemArray","setItemArray","keys","keyValuePair","placeholder","onChange","updatedItem","target","fromEntries","SIGN_IN","EDIT_USER_DATA","SIGN_UP","CREATE_BLOG","UserDataSection","isDeletingAccountProcedureStarted","setIsDeletedAccountProcedureStarted","replace","length","confirm","ArticleContext","useArticle","ArticleProvider","setArticle","articleKey","setArticleKey","getArticleKeyByLink","articleLink","articleRef","fetchArticle","addArticle","blogTitle","newArticleKey","deleteArticle","updateArticle","updatedArticleData","isLinkChanged","oldLink","convertTitleIntoLink","toLowerCase","BlogEditionSection","startDeletingBlog","setStartDeletingBlog","isBlogDeleted","setIsBlogDeleted","articleTitle","newBlogDataWithLink","UserBlogsSection","path","exact","Dashboard","BloggerCard","bloggerData","Bloggers","blogger","CreateBlog","MarkdownEditor","articleData","setArticleData","marginBottom","defaultValue","content","width","height","remarkPlugins","remarkGfm","CreateArticlePage","newArticleData","setNewArticleData","required","date","Date","day","getUTCDate","month","getUTCMonth","getUTCFullYear","newArticleDataWithLink","FooterLink","href","rel","FOOTER_LINKS","Footer","BloggerContext","BloggerProvider","bloggerPublicData","setBloggerPublicData","bloggerBlogsList","setBloggerBlogsList","bloggerId","setBloggerId","fetchBloggerPublicData","bloggerPublicDataRef","fetchBloggerBlogsList","bloggerBlogsListRef","getBloggerIdByUserName","bloggerRef","Blogger","Article","SignIn","SignUp","About","UpdateArticle","setUpdatedArticleData","updatedArticleDataWithLink","App","setUserId","marginTop","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ede6bb91.chunk.js","sourcesContent":["import { Link } from \"react-router-dom\";\r\n\r\nexport default function NavLink({ to, onClick, text }) {\r\n\treturn (\r\n\t\t<Link className=\"nav-link\" to={to} onClick={onClick}>\r\n\t\t\t{text}\r\n\t\t</Link>\r\n\t);\r\n}\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport default function LinkButton({ to, style, onClick, text, isCollapsed }) {\r\n\treturn (\r\n\t\t<Link\r\n\t\t\ttype=\"button\"\r\n\t\t\tto={to}\r\n\t\t\tclassName={\r\n\t\t\t\t\"link-button btn btn-outline-\" + style + (isCollapsed ? \" ms-2\" : \" mt-3 d-block\")\r\n\t\t\t}\r\n\t\t\tonClick={onClick}\r\n\t\t>\r\n\t\t\t{text}\r\n\t\t</Link>\r\n\t);\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport NavLink from \"../atoms/NavLink\";\r\nimport LinkButton from \"../atoms/LinkButton\";\r\n\r\nconst NAVLINKS = [\r\n\t{\r\n\t\tto: \"/\",\r\n\t\ttext: \"About\",\r\n\t},\r\n\t{\r\n\t\tto: \"/blogs\",\r\n\t\ttext: \"Blogs\",\r\n\t},\r\n\t{\r\n\t\tto: \"/bloggers\",\r\n\t\ttext: \"Bloggers\",\r\n\t},\r\n];\r\n\r\nconst PUBLIC_LINK_BUTTONS = [\r\n\t{\r\n\t\tto: \"/login\",\r\n\t\ttext: \"Sign In\",\r\n\t\tstyle: \"success\",\r\n\t},\r\n\t{\r\n\t\tto: \"/signup\",\r\n\t\ttext: \"Create Account\",\r\n\t\tstyle: \"info\",\r\n\t},\r\n];\r\n\r\nconst PRIVATE_LINK_BUTTONS = [\r\n\t{\r\n\t\tto: \"/\",\r\n\t\ttext: \"Log Out\",\r\n\t\tstyle: \"danger\",\r\n\t},\r\n];\r\n\r\nexport default function Header({ userFirstName, userLastName, logOut }) {\r\n\tconst [isNavCollapsed, setIsNavCollapsed] = useState(true);\r\n\r\n\tconst handleNavCollapse = () => {\r\n\t\tsetIsNavCollapsed(!isNavCollapsed);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-primary fixed-top\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<Link className=\"navbar-brand\" to=\"/\">\r\n\t\t\t\t\tBlogging Platform\r\n\t\t\t\t</Link>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"navbar-toggler collapsed\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tdata-bs-toggle=\"collapse\"\r\n\t\t\t\t\tdata-bs-target=\"#navbarColor01\"\r\n\t\t\t\t\taria-controls=\"navbarColor01\"\r\n\t\t\t\t\taria-expanded={isNavCollapsed ? true : false}\r\n\t\t\t\t\taria-label=\"Toggle navigation\"\r\n\t\t\t\t\tonClick={handleNavCollapse}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={`${isNavCollapsed ? \"collapse\" : null} navbar-collapse`}\r\n\t\t\t\t\tid=\"navbarColor01\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<ul className=\"navbar-nav me-auto\">\r\n\t\t\t\t\t\t{NAVLINKS.map((navLink, i) => (\r\n\t\t\t\t\t\t\t<li key={\"nav-item-\" + i} className=\"nav-item\">\r\n\t\t\t\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\t\t\t\tto={navLink.to}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tif (!isNavCollapsed) {\r\n\t\t\t\t\t\t\t\t\t\t\thandleNavCollapse();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\ttext={navLink.text}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t{userFirstName ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto=\"/dashboard\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"text-light text-muted\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ textDecoration: \"none\" }}\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tif (!isNavCollapsed) {\r\n\t\t\t\t\t\t\t\t\t\t\thandleNavCollapse();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span className=\"me-2\">\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"bi bi-person-circle\"></i>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span className=\"me-3\">\r\n\t\t\t\t\t\t\t\t\t\t{userFirstName} {userLastName}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t{PRIVATE_LINK_BUTTONS.map((btn, i) => (\r\n\t\t\t\t\t\t\t\t\t<LinkButton\r\n\t\t\t\t\t\t\t\t\t\tkey={\"private-link-btn-\" + i}\r\n\t\t\t\t\t\t\t\t\t\tto={btn.to}\r\n\t\t\t\t\t\t\t\t\t\ttext={btn.text}\r\n\t\t\t\t\t\t\t\t\t\tstyle={btn.style}\r\n\t\t\t\t\t\t\t\t\t\tisCollapsed={isNavCollapsed}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tlogOut();\r\n\t\t\t\t\t\t\t\t\t\t\tif (!isNavCollapsed) {\r\n\t\t\t\t\t\t\t\t\t\t\t\thandleNavCollapse();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{PUBLIC_LINK_BUTTONS.map((btn, i) => (\r\n\t\t\t\t\t\t\t\t\t<LinkButton\r\n\t\t\t\t\t\t\t\t\t\tkey={\"public-link-btn-\" + i}\r\n\t\t\t\t\t\t\t\t\t\tto={btn.to}\r\n\t\t\t\t\t\t\t\t\t\ttext={btn.text}\r\n\t\t\t\t\t\t\t\t\t\tstyle={btn.style}\r\n\t\t\t\t\t\t\t\t\t\tisCollapsed={isNavCollapsed}\r\n\t\t\t\t\t\t\t\t\t\tonClick={isNavCollapsed ? null : () => handleNavCollapse()}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import { initializeApp, getApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getDatabase } from \"firebase/database\";\r\n//import { getAnalytics } from \"firebase/analytics\";\r\n\r\nconst firebaseConfig = {\r\n\tapiKey: \"AIzaSyCDziv5T2lwy_1jcHriik2c9hWd1qPcY_s\",\r\n\tauthDomain: \"blogging-platform-4ebc2.firebaseapp.com\",\r\n\tdatabaseURL: \"https://blogging-platform-4ebc2-default-rtdb.firebaseio.com\",\r\n\tprojectId: \"blogging-platform-4ebc2\",\r\n\tstorageBucket: \"blogging-platform-4ebc2.appspot.com\",\r\n\tmessagingSenderId: \"669118367342\",\r\n\tappId: \"1:669118367342:web:0348ae0115ae90740dc87f\",\r\n\tmeasurementId: \"G-PQXT1EE1GJ\",\r\n};\r\n\r\n// Initialize Firebase\r\nlet app;\r\ntry {\r\n\tapp = getApp();\r\n} catch (e) {\r\n\tapp = initializeApp(firebaseConfig);\r\n}\r\n\r\nexport const firebaseAuth = getAuth(app);\r\nexport const database = getDatabase(app);\r\n//const analytics = getAnalytics(firebaseApp);\r\n","import { createContext, useContext, useState } from \"react\";\r\nimport { database } from \"../firebase\";\r\n\r\nimport { ref, onValue, query, limitToFirst } from \"firebase/database\";\r\n\r\nconst ListsContext = createContext();\r\n\r\nexport const useLists = () => useContext(ListsContext);\r\n\r\nexport function ListsProvider({ children }) {\r\n\tconst [usersListOrderedByUserName, setUsersListOrderedByUserName] = useState();\r\n\tconst [usersListOrderedByKeys, setUsersListOrderedByKeys] = useState();\r\n\r\n\tconst [blogsListOrderedByKeys, setBlogsListOrderedByKeys] = useState();\r\n\r\n\tconst fetchBlogsListOrderedByKeys = () => {\r\n\t\tconst listRef = query(ref(database, \"blogs/listOrderedByKeys\"), limitToFirst(100));\r\n\t\tonValue(listRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tconsole.log(\"blogs list ordered by keys:\", data);\r\n\t\t\tsetBlogsListOrderedByKeys(data);\r\n\t\t});\r\n\t\tconsole.log(\"DATA WAS FETCHED: BLOGS LIST ORDERED BY KEYS\");\r\n\t};\r\n\r\n\tconst fetchUsersListOrderedByUserName = () => {\r\n\t\tconst listRef = query(ref(database, \"users/listOrderedByUserName\"), limitToFirst(100));\r\n\t\tonValue(listRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tconsole.log(\"users list ordered by user name object:\", data);\r\n\t\t\tsetUsersListOrderedByUserName(data);\r\n\t\t});\r\n\t\tconsole.log(\"DATA WAS FETCHED: USERS LIST ORDERED BY USER NAME\");\r\n\t};\r\n\r\n\tconst fetchUsersListOrderedByKeys = () => {\r\n\t\tconst listRef = query(ref(database, \"users/listOrderedByKeys\"), limitToFirst(100));\r\n\t\tonValue(listRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tconsole.log(\"users list ordered by user id object:\", data);\r\n\t\t\tsetUsersListOrderedByKeys(data);\r\n\t\t});\r\n\t\tconsole.log(\"DATA WAS FETCHED: USERS LIST ORDERED BY KEYS\");\r\n\t};\r\n\r\n\tconst value = {\r\n\t\tusersListOrderedByKeys,\r\n\t\tusersListOrderedByUserName,\r\n\t\tblogsListOrderedByKeys,\r\n\t\tfetchUsersListOrderedByKeys,\r\n\t\tfetchUsersListOrderedByUserName,\r\n\t\tfetchBlogsListOrderedByKeys,\r\n\t};\r\n\r\n\treturn <ListsContext.Provider value={value}>{children}</ListsContext.Provider>;\r\n}\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport default function BlogCard({ blog }) {\r\n\treturn (\r\n\t\t<div className=\"blog-card\">\r\n\t\t\t<hr />\r\n\t\t\t<Link to={\"/blogs/\" + blog.link}>\r\n\t\t\t\t<h3>{blog.title}</h3>\r\n\t\t\t</Link>\r\n\t\t\t<p>\r\n\t\t\t\tby\r\n\t\t\t\t<Link to={\"bloggers/\" + blog.userName} className=\"ms-2\">\r\n\t\t\t\t\t{blog.author}\r\n\t\t\t\t</Link>\r\n\t\t\t</p>\r\n\t\t\t<p>{blog.description}</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useLists } from \"../../hooks/use-lists\";\r\nimport BlogCard from \"../molecules/BlogCard\";\r\n\r\nexport default function Blogs() {\r\n\tconst { blogsListOrderedByKeys, fetchBlogsListOrderedByKeys } = useLists();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchBlogsListOrderedByKeys();\r\n\t}, []);\r\n\r\n\tif (!blogsListOrderedByKeys) return <p>Downloading blogs or... there is no blogs...</p>;\r\n\r\n\treturn (\r\n\t\t<div className=\"blogs-page\">\r\n\t\t\t<div className=\"blogs-list\">\r\n\t\t\t\t<h1>Blogs</h1>\r\n\t\t\t\t{Object.entries(blogsListOrderedByKeys).map((blog, i) => (\r\n\t\t\t\t\t<BlogCard key={\"blog-card-\" + i} blog={blog[1]} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { createContext, useContext, useState, useEffect } from \"react\";\r\nimport { firebaseAuth, database } from \"../firebase\";\r\n\r\nimport {\r\n\tcreateUserWithEmailAndPassword,\r\n\tsignInWithEmailAndPassword,\r\n\tsignOut,\r\n\tonAuthStateChanged,\r\n\tdeleteUser,\r\n} from \"firebase/auth\";\r\n\r\nimport { ref, set, onValue, remove } from \"firebase/database\";\r\n\r\nconst DatabaseContext = createContext();\r\n\r\nexport const useDatabase = () => useContext(DatabaseContext);\r\n\r\nexport function DatabaseProvider({ children }) {\r\n\tconst [user, setUser] = useState(null);\r\n\tconst [userPublicData, setUserPublicData] = useState();\r\n\tconst [userBlogsList, setUserBlogsList] = useState(); // ordered by keys\r\n\r\n\tconst signIn = (signInData) => {\r\n\t\tconst email = signInData.email;\r\n\t\tconst password = signInData.password;\r\n\t\treturn signInWithEmailAndPassword(firebaseAuth, email, password).catch((error) => {\r\n\t\t\talert(error.message);\r\n\t\t});\r\n\t};\r\n\r\n\tconst signUp = (signUpData) => {\r\n\t\treturn createUserWithEmailAndPassword(firebaseAuth, signUpData.email, signUpData.password)\r\n\t\t\t.then((userCredential) => {\r\n\t\t\t\tconsole.log(\"user is sign up. userCredential.user: \", userCredential.user);\r\n\r\n\t\t\t\t// create user in database:\r\n\t\t\t\tset(ref(database, \"users/\" + userCredential.user.uid), {\r\n\t\t\t\t\tprivateData: {\r\n\t\t\t\t\t\temail: signUpData.email,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpublicData: {\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tfirstName: signUpData.firstName,\r\n\t\t\t\t\t\t\tlastName: signUpData.lastName,\r\n\t\t\t\t\t\t\tuserName: signUpData.userName,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// add user's public data into users list ordered by keys:\r\n\t\t\t\tset(ref(database, \"users/listOrderedByKeys/\" + userCredential.user.uid), {\r\n\t\t\t\t\tfirstName: signUpData.firstName,\r\n\t\t\t\t\tlastName: signUpData.lastName,\r\n\t\t\t\t\tuserName: signUpData.userName,\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// add user's public data into users list ordered by user name:\r\n\t\t\t\tset(ref(database, \"users/listOrderedByUserName/\" + signUpData.userName), {\r\n\t\t\t\t\tfirstName: signUpData.firstName,\r\n\t\t\t\t\tlastName: signUpData.lastName,\r\n\t\t\t\t\tuserId: userCredential.user.uid,\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst logOut = async () => {\r\n\t\ttry {\r\n\t\t\tawait signOut(firebaseAuth);\r\n\t\t} catch (error) {\r\n\t\t\talert(error.message);\r\n\t\t}\r\n\t};\r\n\r\n\t//===================== UPDATE USER DATA\r\n\r\n\tconst updateUserPublicData = (userData) => {\r\n\t\t// save prev userName val:\r\n\t\tconst prevUserName = userPublicData.userName;\r\n\t\t// update user data:\r\n\t\tset(ref(database, \"users/\" + user.uid + \"/publicData/data\"), {\r\n\t\t\t...userData,\r\n\t\t}).catch((error) => {\r\n\t\t\talert(error.message);\r\n\t\t});\r\n\r\n\t\t// update user's public data in users list ordered by keys:\r\n\t\tset(ref(database, \"users/listOrderedByKeys/\" + user.uid), {\r\n\t\t\t...userData,\r\n\t\t}).catch((error) => {\r\n\t\t\talert(error.message);\r\n\t\t});\r\n\r\n\t\t// update user's public data in users list ordered by user name:\r\n\t\tif (userData.userName === prevUserName) {\r\n\t\t\t// if userName wasn't updated:\r\n\t\t\tset(ref(database, \"users/listOrderedByUserName/\" + prevUserName), {\r\n\t\t\t\tfirstName: userData.firstName,\r\n\t\t\t\tlastName: userData.lastName,\r\n\t\t\t\tuserId: user.uid,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t// if userName was updated:\r\n\t\t\t// delete prev userName record:\r\n\t\t\tremove(ref(database, \"users/listOrderedByUserName/\" + prevUserName))\r\n\t\t\t\t.then(() => console.log(prevUserName, \"record was deleted from database.\"))\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t});\r\n\t\t\t// set new userName record:\r\n\t\t\tset(ref(database, \"users/listOrderedByUserName/\" + userData.userName), {\r\n\t\t\t\tfirstName: userData.firstName,\r\n\t\t\t\tlastName: userData.lastName,\r\n\t\t\t\tuserId: user.uid,\r\n\t\t\t})\r\n\t\t\t\t.then(() => console.log(userData.userName, \"record was added to database.\"))\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t//===================== DELETE USER PUBLIC & PRIVATE DATA & DELETE USER FROM USERS LISTS\r\n\r\n\tconst deleteUserPublicAndPrivateDataAndDeleteUserFromUsersLists = () => {\r\n\t\t// NOTE: use this method only after all blogs & articles are deleted !!!!!!!!!!!!!!!!!\r\n\r\n\t\tconst userName = userPublicData.userName;\r\n\t\t// delete user public data:\r\n\t\tremove(ref(database, \"users/\" + user.uid))\r\n\t\t\t.then(() =>\r\n\t\t\t\tconsole.log(\"User's\", user.uid, userName, \"public & private data were deleted.\")\r\n\t\t\t)\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t// delete user's public data from users list ordered by keys:\r\n\t\tremove(ref(database, \"users/listOrderedByKeys/\" + user.uid))\r\n\t\t\t.then(() =>\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"User\",\r\n\t\t\t\t\tuser.uid,\r\n\t\t\t\t\tuserName,\r\n\t\t\t\t\t\"was deleted from users list ordered by keys.\"\r\n\t\t\t\t)\r\n\t\t\t)\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t// delete user's public data from users list ordered by user name:\r\n\t\tremove(ref(database, \"users/listOrderedByUserName/\" + userName))\r\n\t\t\t.then(() => console.log(userName, \"record was deleted from database.\"))\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t};\r\n\r\n\t//==================== DELETE USER ACCOUNT\r\n\r\n\tconst deleteUserAccount = () => {\r\n\t\t// NOTE: use this method only after deleting user's public & private data & all blogs & articles are deleted !!!!!!!!!!!!!!!!!\r\n\r\n\t\tconst userForDelete = firebaseAuth.currentUser;\r\n\t\tdeleteUser(userForDelete)\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\"User \" + userForDelete.uid + \" was deleted.\");\r\n\t\t\t\talert(\"Your account was successfully deleted! Good bye!\");\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(\r\n\t\t\t\t\terror.message,\r\n\t\t\t\t\t\"Try again to delete your account after logging again. Your blogs & user data were already deleted.\"\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t};\r\n\r\n\tfunction fetchUserBlogsList() {\r\n\t\tconst currentUserDataRef = ref(database, \"users/\" + user.uid + \"/publicData/blogs\");\r\n\t\tonValue(currentUserDataRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tconsole.log(\"current user blogs list data object:\", data);\r\n\t\t\tsetUserBlogsList(data);\r\n\t\t});\r\n\t\tconsole.log(\"DATA WAS FETCHED: USER BLOGS LIST\");\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tonAuthStateChanged(firebaseAuth, (user) => {\r\n\t\t\tif (user) {\r\n\t\t\t\tsetUser(user);\r\n\t\t\t\tconsole.log(\"user logged in. user:\", user);\r\n\t\t\t\tconst userPublicDataRef = ref(database, \"users/\" + user.uid + \"/publicData/data\");\r\n\t\t\t\tonValue(userPublicDataRef, (snapshot) => {\r\n\t\t\t\t\tconst data = snapshot.val();\r\n\t\t\t\t\tconsole.log(\"user public data:\", data);\r\n\t\t\t\t\tsetUserPublicData(data);\r\n\t\t\t\t\tconsole.log(\"DATA WAS FETCHED: USER PUBLIC DATA\");\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tsetUser(null);\r\n\t\t\t\tsetUserPublicData(null);\r\n\t\t\t\tconsole.log(\"user is logged out\");\r\n\t\t\t}\r\n\t\t});\r\n\t}, []);\r\n\r\n\tconst value = {\r\n\t\tsignIn,\r\n\t\tsignUp,\r\n\t\tlogOut,\r\n\t\tuser,\r\n\t\tuserPublicData,\r\n\t\tuserBlogsList,\r\n\t\tfetchUserBlogsList,\r\n\t\tupdateUserPublicData,\r\n\t\tdeleteUserPublicAndPrivateDataAndDeleteUserFromUsersLists,\r\n\t\tdeleteUserAccount,\r\n\t};\r\n\r\n\treturn <DatabaseContext.Provider value={value}>{children}</DatabaseContext.Provider>;\r\n}\r\n","import { createContext, useContext, useState } from \"react\";\r\nimport { database } from \"../firebase\";\r\nimport { useDatabase } from \"./use-database\";\r\n\r\nimport { ref, set, push, child, onValue, remove } from \"firebase/database\";\r\n\r\nconst BlogContext = createContext();\r\n\r\nexport const useBlog = () => useContext(BlogContext);\r\n\r\nexport function BlogProvider({ children }) {\r\n\tconst { userPublicData, user } = useDatabase();\r\n\r\n\tconst [blog, setBlog] = useState();\r\n\tconst [blogKey, setBlogKey] = useState();\r\n\r\n\tconst getBlogKeyByLink = (blogLink) => {\r\n\t\tconst blogRef = ref(database, \"blogs/listOrderedByLinks/\" + blogLink);\r\n\t\tonValue(blogRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tif (data) {\r\n\t\t\t\tconsole.log(\"blog key:\", data.key);\r\n\t\t\t\tsetBlogKey(data.key);\r\n\t\t\t}\r\n\t\t\tconsole.log(\"DATA WAS FETCHED: BLOG KEY\");\r\n\t\t});\r\n\t};\r\n\r\n\tconst fetchBlog = (blogKey) => {\r\n\t\tconst blogRef = ref(database, \"blogs/\" + blogKey);\r\n\t\tonValue(blogRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tconsole.log(\"blog object:\", data);\r\n\t\t\tsetBlog(data);\r\n\t\t});\r\n\t\tconsole.log(\"DATA WAS FETCHED: BLOG\");\r\n\t};\r\n\r\n\tconst addBlog = (blogData) => {\r\n\t\t// blogData consists title, description & link\r\n\r\n\t\tconst newBlogKey = push(child(ref(database), \"blogs\")).key;\r\n\r\n\t\tif (newBlogKey && blogData) {\r\n\t\t\t// add blog to blogs in database:\r\n\t\t\tset(ref(database, \"blogs/\" + newBlogKey + \"/metadata\"), {\r\n\t\t\t\tauthor: userPublicData.firstName + \" \" + userPublicData.lastName,\r\n\t\t\t\tuserName: userPublicData.userName,\r\n\t\t\t\tuserId: user.uid,\r\n\t\t\t\t...blogData,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t\t// add blog to user blogs list:\r\n\t\t\tset(ref(database, \"users/\" + user.uid + \"/publicData/blogs/\" + newBlogKey), {\r\n\t\t\t\ttitle: blogData.title,\r\n\t\t\t\tlink: blogData.link,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t\t// add blog to blogs list ordered by keys:\r\n\t\t\tset(ref(database, \"blogs/listOrderedByKeys/\" + newBlogKey), {\r\n\t\t\t\tauthor: userPublicData.firstName + \" \" + userPublicData.lastName,\r\n\t\t\t\tuserName: userPublicData.userName,\r\n\t\t\t\tuserId: user.uid, // remember about userId, because only then rules will allow the user add smth !!!\r\n\t\t\t\t...blogData,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t\t// add blog to blogs list ordered by links:\r\n\t\t\tset(ref(database, \"blogs/listOrderedByLinks/\" + blogData.link), {\r\n\t\t\t\tuserId: user.uid,\r\n\t\t\t\ttitle: blogData.title,\r\n\t\t\t\tkey: newBlogKey,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\talert(\"Can't add article... No blog data passed or/and no key generated... Try again.\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateBlog = (prevBlogData, updatedBlogData, blogKey) => {\r\n\t\tif (updatedBlogData && blogKey) {\r\n\t\t\t// update blog in blogs in database:\r\n\t\t\tset(ref(database, \"blogs/\" + blogKey + \"/metadata\"), {\r\n\t\t\t\t...prevBlogData,\r\n\t\t\t\t...updatedBlogData,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t\t// update blog in user blogs list\r\n\t\t\t// only if title or/and link changed:\r\n\t\t\tif (\r\n\t\t\t\tprevBlogData.title !== updatedBlogData.title ||\r\n\t\t\t\tprevBlogData.link !== updatedBlogData.link\r\n\t\t\t) {\r\n\t\t\t\tset(ref(database, \"users/\" + user.uid + \"/publicData/blogs/\" + blogKey), {\r\n\t\t\t\t\ttitle: updatedBlogData.title,\r\n\t\t\t\t\tlink: updatedBlogData.link,\r\n\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// update blog in blogs list ordered by keys:\r\n\t\t\tset(ref(database, \"blogs/listOrderedByKeys/\" + blogKey), {\r\n\t\t\t\t...prevBlogData,\r\n\t\t\t\t...updatedBlogData,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t\t// update blog in blogs list ordered by links\r\n\t\t\t// only if link changed = title changed:\r\n\t\t\tif (prevBlogData.link !== updatedBlogData.link) {\r\n\t\t\t\t// add new object with new link:\r\n\t\t\t\tset(ref(database, \"blogs/listOrderedByLinks/\" + updatedBlogData.link), {\r\n\t\t\t\t\tuserId: prevBlogData.userId,\r\n\t\t\t\t\ttitle: updatedBlogData.title,\r\n\t\t\t\t\tkey: blogKey,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\"blog with new link:\" +\r\n\t\t\t\t\t\t\t\tupdatedBlogData.link +\r\n\t\t\t\t\t\t\t\t\" was added to blogs list ordered by links.\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\talert(error.message);\r\n\t\t\t\t\t});\r\n\t\t\t\t// delete old object with old link:\r\n\t\t\t\tremove(ref(database, \"blogs/listOrderedByLinks/\" + prevBlogData.link))\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\"blog with old link:\" +\r\n\t\t\t\t\t\t\t\tprevBlogData.link +\r\n\t\t\t\t\t\t\t\t\" was deleted from blogs list ordered by links.\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\talert(error.message);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\talert(\"Can't update blog... No blog data or/and no key passed... Try again.\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteBlog = (blogKey, blogLink) => {\r\n\t\t// NOTE: this method must run after looping blogs articles list with deleteArticle()\r\n\r\n\t\t// delete blog from blogs in database:\r\n\t\tremove(ref(database, \"blogs/\" + blogKey))\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\"Blog with\", blogKey, \" blogKey was deleted.\");\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t// delete blog from user blogs list:\r\n\t\tremove(ref(database, \"users/\" + user.uid + \"/publicData/blogs/\" + blogKey))\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\"Blog with\", blogKey, \" blogKey was deleted from user blog list.\");\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t// delete blog from blogs list ordered by keys:\r\n\t\tremove(ref(database, \"blogs/listOrderedByKeys/\" + blogKey))\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"Blog with\",\r\n\t\t\t\t\tblogKey,\r\n\t\t\t\t\t\" blogKey was deleted from blogs list ordered by keys.\"\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t// delete blog from blogs list ordered by links:\r\n\t\tremove(ref(database, \"blogs/listOrderedByLinks/\" + blogLink))\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"Blog with\",\r\n\t\t\t\t\tblogLink,\r\n\t\t\t\t\t\" blogLink was deleted from blogs list ordered by keys..\"\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst value = {\r\n\t\tblog,\r\n\t\tblogKey,\r\n\t\tgetBlogKeyByLink,\r\n\t\tfetchBlog,\r\n\t\taddBlog,\r\n\t\tupdateBlog,\r\n\t\tdeleteBlog,\r\n\t};\r\n\r\n\treturn <BlogContext.Provider value={value}>{children}</BlogContext.Provider>;\r\n}\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport default function TableOfContent({ articles, url }) {\r\n\tif (!articles) return <p>There are no articles in this blog...</p>;\r\n\r\n\treturn (\r\n\t\t<nav className=\"table-of-content\">\r\n\t\t\t<hr />\r\n\t\t\t<h5 className=\"text-center\">Table of content</h5>\r\n\t\t\t<ul>\r\n\t\t\t\t{Object.entries(articles).map((article) => (\r\n\t\t\t\t\t<li key={article[0]}>\r\n\t\t\t\t\t\t<Link to={url + \"/\" + article[1].link} className=\"d-block\">\r\n\t\t\t\t\t\t\t{article[1].title}\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport default function SectionHeader({ item, headerClassname }) {\r\n\treturn (\r\n\t\t<header className={\"text-center \" + headerClassname}>\r\n\t\t\t<h1>{item.title}</h1>\r\n\t\t\t<p>\r\n\t\t\t\tby\r\n\t\t\t\t<Link to={\"/bloggers/\" + item.userName} className=\"ms-2\">\r\n\t\t\t\t\t{item.author}\r\n\t\t\t\t</Link>\r\n\t\t\t</p>\r\n\t\t\t<p>\r\n\t\t\t\t{item.createdAt && item.createdAt}\r\n\t\t\t\t{item.updatedAt &&\r\n\t\t\t\t\t(item.updatedAt === item.createdAt ? null : \" / \" + item.updatedAt)}\r\n\t\t\t</p>\r\n\t\t\t<p>{item.description}</p>\r\n\t\t</header>\r\n\t);\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useRouteMatch, useParams } from \"react-router-dom\";\r\nimport { useBlog } from \"../../hooks/use-blog\";\r\nimport TableOfContent from \"../molecules/TableOfContent\";\r\nimport SectionHeader from \"../molecules/SectionHeader\";\r\n\r\nexport default function Blog() {\r\n\tlet { url } = useRouteMatch();\r\n\tconst { blogLink } = useParams();\r\n\r\n\tconst { blog, fetchBlog, getBlogKeyByLink, blogKey } = useBlog();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (blogLink) {\r\n\t\t\tgetBlogKeyByLink(blogLink);\r\n\t\t}\r\n\t}, [blogLink]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (blogKey) {\r\n\t\t\tfetchBlog(blogKey);\r\n\t\t}\r\n\t}, [blogKey]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (blog) {\r\n\t\t\tconsole.log(\"fetched blog:\", blog);\r\n\t\t}\r\n\t}, [blog]);\r\n\r\n\tif (!blog) return <p>Downloading data or there is no data...</p>;\r\n\r\n\treturn (\r\n\t\t<div className=\"blog-page\">\r\n\t\t\t<SectionHeader item={blog.metadata} headerClassname=\"blog-header\" />\r\n\t\t\t<TableOfContent articles={blog.articlesListOrderedByKeys} url={url} />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport LinkButton from \"../atoms/LinkButton\";\r\n\r\nexport default function Form({ structure, data, onSubmit, text, to, formClassname }) {\r\n\tconst [itemArray, setItemArray] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (structure) {\r\n\t\t\tconst itemArray = [];\r\n\t\t\t// transform structure / data object into array:\r\n\t\t\tObject.keys(structure).map((key) => {\r\n\t\t\t\tconst keyValuePair =\r\n\t\t\t\t\tdata && data[key] // is item passed ?\r\n\t\t\t\t\t\t? [key, data[key]] // set item[key] value\r\n\t\t\t\t\t\t: [\r\n\t\t\t\t\t\t\t\t// if no item\r\n\t\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\t\tstructure[key].value // does structure[key] has value ?\r\n\t\t\t\t\t\t\t\t\t? structure[key].value // if true, use structure[key] value\r\n\t\t\t\t\t\t\t\t\t: \"\", // if false, set empty value to the key\r\n\t\t\t\t\t\t  ];\r\n\t\t\t\treturn itemArray.push(keyValuePair);\r\n\t\t\t});\r\n\t\t\tif (data) {\r\n\t\t\t\tconsole.log(\"item array created from passed data:\", itemArray);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"item array created from structure template:\", itemArray);\r\n\t\t\t}\r\n\t\t\tsetItemArray([...itemArray]);\r\n\t\t}\r\n\t}, [structure, data]);\r\n\r\n\tif (!structure || (structure && !itemArray))\r\n\t\treturn <p>Nothing has been passed to the Form component...</p>;\r\n\r\n\treturn (\r\n\t\t<form className={formClassname}>\r\n\t\t\t<div className=\"row mb-3\">\r\n\t\t\t\t{Object.keys(structure).map((key, i) => (\r\n\t\t\t\t\t<div className=\"mb-2\" key={key + \"-input-div\"}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\ttype={structure[key].type ? structure[key].type : \"text\"}\r\n\t\t\t\t\t\t\tvalue={itemArray[i] ? itemArray[i][1] : \"\"} // fix this !!!!!!!!!!!\r\n\t\t\t\t\t\t\tplaceholder={\r\n\t\t\t\t\t\t\t\tstructure[key].placeholder ? structure[key].placeholder : key\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tconst updatedItem = [...itemArray];\r\n\t\t\t\t\t\t\t\tupdatedItem[i] = [...updatedItem[i]];\r\n\t\t\t\t\t\t\t\tupdatedItem[i][1] = e.target.value;\r\n\t\t\t\t\t\t\t\tsetItemArray([...updatedItem]);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t\t<LinkButton\r\n\t\t\t\ttext={text}\r\n\t\t\t\tstyle=\"success\"\r\n\t\t\t\tto={to}\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\t// tranform item / data array back to object & pass it:\r\n\t\t\t\t\tonSubmit(Object.fromEntries(itemArray));\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</form>\r\n\t);\r\n}\r\n","// add as much inputs, as you like\r\n// according to template below:\r\n\r\n// some_key_representanting_variable: { // name of the key / variable\r\n//   type: \"password\", // (OPTIONAL) include type only if it's value is not \"text\"\r\n//   value: \"some value\", // (OPTIONAL) if it's empty, skip this key-value pair\r\n//   placeholder: \"some placeholder\" // (OPTIONAL) if it's same as key / variable name, skip it\r\n// }\r\n\r\n// if all properties are defaul & skipped,\r\n// add a key_name: {},\r\n\r\nexport const SIGN_IN = {\r\n\temail: {\r\n\t\ttype: \"email\",\r\n\t},\r\n\tpassword: {\r\n\t\ttype: \"password\",\r\n\t},\r\n};\r\n\r\nexport const EDIT_USER_DATA = {\r\n\tfirstName: {\r\n\t\tplaceholder: \"input your real first name\",\r\n\t},\r\n\tlastName: {\r\n\t\tplaceholder: \"input your real last name\",\r\n\t},\r\n\tuserName: {\r\n\t\tplaceholder: \"input your user name using lower case letters only\",\r\n\t},\r\n};\r\n\r\nexport const SIGN_UP = {\r\n\t...EDIT_USER_DATA,\r\n\t...SIGN_IN,\r\n};\r\n\r\nexport const CREATE_BLOG = {\r\n\ttitle: {},\r\n\tdescription: {},\r\n};\r\n","import { useDatabase } from \"../../../hooks/use-database\";\r\nimport Form from \"../../organisms/Form\";\r\nimport { EDIT_USER_DATA } from \"../../../initial-data/form-structure-templates\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function UserDataSection() {\r\n\tconst {\r\n\t\tuser,\r\n\t\tuserPublicData,\r\n\t\tupdateUserPublicData,\r\n\t\tfetchUserBlogsList,\r\n\t\tuserBlogsList,\r\n\t\tdeleteUserAccount,\r\n\t\tdeleteUserPublicAndPrivateDataAndDeleteUserFromUsersLists,\r\n\t} = useDatabase();\r\n\r\n\tconst [isDeletingAccountProcedureStarted, setIsDeletedAccountProcedureStarted] =\r\n\t\tuseState(false);\r\n\r\n\tfunction handleSubmit(data) {\r\n\t\tif (\r\n\t\t\tdata.firstName.replace(/\\s/g, \"\").length &&\r\n\t\t\tdata.lastName.replace(/\\s/g, \"\").length &&\r\n\t\t\tdata.userName.replace(/\\s/g, \"\").length\r\n\t\t) {\r\n\t\t\tupdateUserPublicData(data);\r\n\t\t} else {\r\n\t\t\talert(\r\n\t\t\t\t\"You need to complete all input fields (not only white spaces...) to update your account data!\"\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!userBlogsList) {\r\n\t\t\tfetchUserBlogsList();\r\n\t\t}\r\n\t}, [userBlogsList]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isDeletingAccountProcedureStarted) {\r\n\t\t\tif (userBlogsList) {\r\n\t\t\t\talert(\r\n\t\t\t\t\t\"You have blogs in database. You need to delete them manually first, and then you can delete your account. So go to your blogs section and delete your blogs.\"\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tif (userPublicData) {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\"Deleting user account procedure started. 1. Delete user private & public data first.\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\tdeleteUserPublicAndPrivateDataAndDeleteUserFromUsersLists();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"User public & private data was deleted. 2. Delete user now.\");\r\n\t\t\t\t\tdeleteUserAccount();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [isDeletingAccountProcedureStarted, userBlogsList, userPublicData]);\r\n\r\n\tif (!userPublicData && !isDeletingAccountProcedureStarted)\r\n\t\treturn <p>Downloading your data...</p>;\r\n\r\n\tif (isDeletingAccountProcedureStarted) {\r\n\t\tif (user) {\r\n\t\t\treturn <p className=\"text-center text-danger\">Deleting account... Please wait..</p>;\r\n\t\t} else {\r\n\t\t\tconsole.log(\"User was deleted.\");\r\n\t\t\treturn <p className=\"text-center text-success\">User was successfully deleted.</p>;\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"edit-user-data-section\">\r\n\t\t\t<Form\r\n\t\t\t\tstructure={EDIT_USER_DATA}\r\n\t\t\t\tdata={userPublicData}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\tto=\"/dashboard\"\r\n\t\t\t\ttext=\"save changes\"\r\n\t\t\t\tformClassname=\"edit-user-data-form\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"d-grid\">\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName=\"btn btn-outline-danger mb-3 mt-2\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\t\t\t\tconst wantToDelete = confirm(\r\n\t\t\t\t\t\t\t\"Are you sure, you want to delete your account & all of your data forever? There's no turning back... Delete account?\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif (wantToDelete) {\r\n\t\t\t\t\t\t\tif (userBlogsList) {\r\n\t\t\t\t\t\t\t\talert(\r\n\t\t\t\t\t\t\t\t\t\"You have blogs in database. You need to delete them manually first, and then you can delete your account. So go to your blogs section and delete your blogs.\"\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// start delete account procedure\r\n\t\t\t\t\t\t\t\tsetIsDeletedAccountProcedureStarted(true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tDelete my account\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { createContext, useContext, useState } from \"react\";\r\nimport { database } from \"../firebase\";\r\nimport { useDatabase } from \"./use-database\";\r\n\r\nimport {\r\n\tref,\r\n\tset,\r\n\tpush,\r\n\tchild,\r\n\t//update,\r\n\tonValue,\r\n\tremove,\r\n\t//query,\r\n\t//limitToFirst\r\n} from \"firebase/database\";\r\n\r\nconst ArticleContext = createContext();\r\n\r\nexport const useArticle = () => useContext(ArticleContext);\r\n\r\nexport function ArticleProvider({ children }) {\r\n\tconst { userPublicData, user } = useDatabase();\r\n\r\n\tconst [article, setArticle] = useState();\r\n\tconst [articleKey, setArticleKey] = useState();\r\n\r\n\tconst getArticleKeyByLink = (articleLink) => {\r\n\t\tconst articleRef = ref(database, \"articles/listOrderedByLinks/\" + articleLink);\r\n\t\tonValue(articleRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tif (data) {\r\n\t\t\t\tconsole.log(\"article key:\", data.key);\r\n\t\t\t\tsetArticleKey(data.key);\r\n\t\t\t}\r\n\t\t});\r\n\t\tconsole.log(\"DATA WAS FETCHED: ARTICLE KEY\");\r\n\t};\r\n\r\n\tconst fetchArticle = (articleKey) => {\r\n\t\tconst articleRef = ref(database, \"articles/\" + articleKey);\r\n\t\tonValue(articleRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tconsole.log(\"article object:\", data);\r\n\t\t\tsetArticle(data);\r\n\t\t});\r\n\t\tconsole.log(\"DATA WAS FETCHED: ARTICLE\");\r\n\t};\r\n\r\n\tconst addArticle = (blogKey, blogTitle, article) => {\r\n\t\t// article: {title, description, content, link, createdAt}\r\n\r\n\t\tconst newArticleKey = push(child(ref(database), \"articles\")).key;\r\n\r\n\t\tif (newArticleKey) {\r\n\t\t\t// add article to articles in database:\r\n\t\t\tset(ref(database, \"articles/\" + newArticleKey + \"/metadata\"), {\r\n\t\t\t\t...article,\r\n\t\t\t\tauthor: userPublicData.firstName + \" \" + userPublicData.lastName,\r\n\t\t\t\tuserName: userPublicData.userName,\r\n\t\t\t\tuserId: user.uid,\r\n\t\t\t\tblogKey: blogKey,\r\n\t\t\t\tblogTitle: blogTitle,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t\t// add article to articles list ordered by links\r\n\t\t\tset(ref(database, \"articles/listOrderedByLinks/\" + article.link), {\r\n\t\t\t\ttitle: article.title,\r\n\t\t\t\tkey: newArticleKey,\r\n\t\t\t\tuserId: user.uid,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t\t// add article to its blog's list ordered by keys\r\n\t\t\tset(ref(database, \"blogs/\" + blogKey + \"/articlesListOrderedByKeys/\" + newArticleKey), {\r\n\t\t\t\tlink: article.link,\r\n\t\t\t\ttitle: article.title,\r\n\t\t\t\tuserId: user.uid,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t\t// add article to its blog's list ordered by links\r\n\t\t\tset(ref(database, \"blogs/\" + blogKey + \"/articlesListOrderedByLinks/\" + article.link), {\r\n\t\t\t\ttitle: article.title,\r\n\t\t\t\tkey: newArticleKey,\r\n\t\t\t\tuserId: user.uid,\r\n\t\t\t}).catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst updateArticle = (updatedArticleData, articleKey, isLinkChanged, oldLink) => {\r\n\t\tif (articleKey && updatedArticleData) {\r\n\t\t\t// update article in articles in database:\r\n\t\t\tset(ref(database, \"articles/\" + articleKey + \"/metadata\"), {\r\n\t\t\t\t...updatedArticleData,\r\n\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tconsole.log(\"Article\", updatedArticleData.title, \"was updated.\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch((error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t});\r\n\r\n\t\t\t// update article in articles lists\r\n\t\t\t// only if link changed\r\n\t\t\tif (isLinkChanged) {\r\n\t\t\t\t//set new object in articles list ordered by links:\r\n\t\t\t\tset(ref(database, \"articles/listOrderedByLinks/\" + updatedArticleData.link), {\r\n\t\t\t\t\ttitle: updatedArticleData.title,\r\n\t\t\t\t\tkey: articleKey,\r\n\t\t\t\t\tuserId: updatedArticleData.userId,\r\n\t\t\t\t})\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\"article with new link:\" +\r\n\t\t\t\t\t\t\t\tupdatedArticleData.link +\r\n\t\t\t\t\t\t\t\t\" was added to articles list ordered by links.\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\talert(error.message);\r\n\t\t\t\t\t});\r\n\t\t\t\t// delete old object in articles list ordered by links:\r\n\t\t\t\tif (oldLink) {\r\n\t\t\t\t\tremove(ref(database, \"articles/listOrderedByLinks/\" + oldLink))\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"article with old link:\" +\r\n\t\t\t\t\t\t\t\t\toldLink +\r\n\t\t\t\t\t\t\t\t\t\" was deleted from articles list ordered by links.\"\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\talert(error.message);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"No old link passed...\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// update article to its blog's list ordered by keys\r\n\t\t\t\tset(\r\n\t\t\t\t\tref(\r\n\t\t\t\t\t\tdatabase,\r\n\t\t\t\t\t\t\"blogs/\" +\r\n\t\t\t\t\t\t\tupdatedArticleData.blogKey +\r\n\t\t\t\t\t\t\t\"/articlesListOrderedByKeys/\" +\r\n\t\t\t\t\t\t\tarticleKey\r\n\t\t\t\t\t),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlink: updatedArticleData.link,\r\n\t\t\t\t\t\ttitle: updatedArticleData.title,\r\n\t\t\t\t\t\tuserId: updatedArticleData.userId,\r\n\t\t\t\t\t}\r\n\t\t\t\t).catch((error) => {\r\n\t\t\t\t\talert(error.message);\r\n\t\t\t\t});\r\n\r\n\t\t\t\t//set new object in blog's articles list ordered by links:\r\n\t\t\t\tset(\r\n\t\t\t\t\tref(\r\n\t\t\t\t\t\tdatabase,\r\n\t\t\t\t\t\t\"blogs/\" +\r\n\t\t\t\t\t\t\tupdatedArticleData.blogKey +\r\n\t\t\t\t\t\t\t\"/articlesListOrderedByLinks/\" +\r\n\t\t\t\t\t\t\tupdatedArticleData.link\r\n\t\t\t\t\t),\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttitle: updatedArticleData.title,\r\n\t\t\t\t\t\tkey: articleKey,\r\n\t\t\t\t\t\tuserId: updatedArticleData.userId,\r\n\t\t\t\t\t}\r\n\t\t\t\t)\r\n\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\"article with new link:\" +\r\n\t\t\t\t\t\t\t\tupdatedArticleData.link +\r\n\t\t\t\t\t\t\t\t\" was added to blog's articles list ordered by links.\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\talert(error.message);\r\n\t\t\t\t\t});\r\n\t\t\t\t// delete old object in blog's articles list ordered by links:\r\n\t\t\t\tif (oldLink) {\r\n\t\t\t\t\tremove(\r\n\t\t\t\t\t\tref(\r\n\t\t\t\t\t\t\tdatabase,\r\n\t\t\t\t\t\t\t\"blogs/\" +\r\n\t\t\t\t\t\t\t\tupdatedArticleData.blogKey +\r\n\t\t\t\t\t\t\t\t\"/articlesListOrderedByLinks/\" +\r\n\t\t\t\t\t\t\t\toldLink\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\t.then(() => {\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t\"article with old link:\" +\r\n\t\t\t\t\t\t\t\t\toldLink +\r\n\t\t\t\t\t\t\t\t\t\" was deleted from blog's articles list ordered by links.\"\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch((error) => {\r\n\t\t\t\t\t\t\talert(error.message);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"No old link passed...\");\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"Updated article link is the same, so articles list ordered by link didn't change.\"\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\talert(\"Can't update article... No article data or/and no key passed... Try again.\");\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteArticle = (articleKey, title, link, blogKey) => {\r\n\t\t// delete article from articles in database:\r\n\t\tremove(ref(database, \"articles/\" + articleKey))\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\"Article\", title, \"was deleted.\");\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t// delete article from articles list ordered by links:\r\n\t\tremove(ref(database, \"articles/listOrderedByLinks/\" + link))\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"article with the link:\" +\r\n\t\t\t\t\t\tlink +\r\n\t\t\t\t\t\t\" was deleted from articles list ordered by links.\"\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t// delete article from its blog's list ordered by keys:\r\n\t\tremove(ref(database, \"blogs/\" + blogKey + \"/articlesListOrderedByKeys/\" + articleKey))\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"article with the key \" +\r\n\t\t\t\t\t\tarticleKey +\r\n\t\t\t\t\t\t\" was deleted from its blog \" +\r\n\t\t\t\t\t\tblogKey +\r\n\t\t\t\t\t\t\" articles list ordered by keys.\"\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\r\n\t\t// delete article from its blog's list ordered by links:\r\n\t\tremove(ref(database, \"blogs/\" + blogKey + \"/articlesListOrderedByLinks/\" + link))\r\n\t\t\t.then(() => {\r\n\t\t\t\tconsole.log(\r\n\t\t\t\t\t\"article with the link \" +\r\n\t\t\t\t\t\tlink +\r\n\t\t\t\t\t\t\" was deleted from its blog \" +\r\n\t\t\t\t\t\tblogKey +\r\n\t\t\t\t\t\t\" articles list ordered by links.\"\r\n\t\t\t\t);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\talert(error.message);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst value = {\r\n\t\tarticle,\r\n\t\tarticleKey,\r\n\t\tgetArticleKeyByLink,\r\n\t\tfetchArticle,\r\n\t\taddArticle,\r\n\t\tdeleteArticle,\r\n\t\tupdateArticle,\r\n\t};\r\n\r\n\treturn <ArticleContext.Provider value={value}>{children}</ArticleContext.Provider>;\r\n}\r\n","export default function convertTitleIntoLink(title) {\r\n\treturn title.replace(/ /g, \"-\").toLowerCase();\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport { useBlog } from \"../../../hooks/use-blog\";\r\nimport { useArticle } from \"../../../hooks/use-article\";\r\nimport convertTitleIntoLink from \"../../../functions/convertTitleIntoLink\";\r\nimport Form from \"../../organisms/Form\";\r\nimport { CREATE_BLOG } from \"../../../initial-data/form-structure-templates\";\r\n\r\nexport default function BlogEditionSection() {\r\n\tconst { blogLink } = useParams();\r\n\r\n\tconst { blog, fetchBlog, getBlogKeyByLink, blogKey, updateBlog, deleteBlog } = useBlog();\r\n\r\n\tconst { deleteArticle } = useArticle();\r\n\r\n\tconst [startDeletingBlog, setStartDeletingBlog] = useState(false);\r\n\tconst [isBlogDeleted, setIsBlogDeleted] = useState(false);\r\n\r\n\tfunction handleBlogEditionFormSubmit(updatedBlogData) {\r\n\t\tif (\r\n\t\t\tupdatedBlogData.title.replace(/\\s/g, \"\").length &&\r\n\t\t\tupdatedBlogData.description.replace(/\\s/g, \"\").length\r\n\t\t) {\r\n\t\t\tconst link = convertTitleIntoLink(updatedBlogData.title);\r\n\t\t\tconst newBlogDataWithLink = {\r\n\t\t\t\t...updatedBlogData,\r\n\t\t\t\tlink: link,\r\n\t\t\t};\r\n\t\t\t//updatedBlog(prevBlogData, updatedBlogData, blogKey)\r\n\t\t\tupdateBlog(blog.metadata, newBlogDataWithLink, blogKey);\r\n\t\t\t//alert(\"At the moment you can not update blog. Check the note in about section.\");\r\n\t\t} else {\r\n\t\t\talert(\r\n\t\t\t\t\"You need to complete all input fields (not only white spaces...) to update your blog data... Try again!\"\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t//======================== fetch blog procedure:\r\n\tuseEffect(() => {\r\n\t\tif (blogLink) {\r\n\t\t\tgetBlogKeyByLink(blogLink);\r\n\t\t}\r\n\t}, [blogLink]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (blogKey) {\r\n\t\t\tfetchBlog(blogKey);\r\n\t\t}\r\n\t}, [blogKey]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (blog) {\r\n\t\t\tconsole.log(\"fetched blog:\", blog);\r\n\t\t}\r\n\t}, [blog]);\r\n\r\n\t//======================== delete blog procedure:\r\n\tuseEffect(() => {\r\n\t\tif (blog) {\r\n\t\t\tif (startDeletingBlog) {\r\n\t\t\t\t//================ 1. check if there are any articles in blog\r\n\t\t\t\tif (blog && blog.articlesListOrderedByKeys) {\r\n\t\t\t\t\t//============ 1. a) delete all articles in loop\r\n\t\t\t\t\tconst articles = Object.entries(blog.articlesListOrderedByKeys);\r\n\t\t\t\t\tfor (let i = 0; i < articles.length; i++) {\r\n\t\t\t\t\t\tconst article = articles[i];\r\n\t\t\t\t\t\tconst articleKey = article[0];\r\n\t\t\t\t\t\tconst articleLink = article[1].link;\r\n\t\t\t\t\t\tconst articleTitle = article[1].title;\r\n\t\t\t\t\t\tdeleteArticle(articleKey, articleTitle, articleLink, blogKey);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//============ 2. if articles are deleted or there are no articles, delete blog\r\n\t\t\t\t\tconsole.log(\"There are no articles to delete. Delete blog now.\");\r\n\t\t\t\t\tdeleteBlog(blogKey, blogLink);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (!isBlogDeleted) {\r\n\t\t\t\t\tconsole.log(\"User didn't start deleting blog procedure.\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [startDeletingBlog, blog]);\r\n\r\n\t//===================== 3. if blog is deleted:\r\n\tuseEffect(() => {\r\n\t\tif (!blog) {\r\n\t\t\tif (startDeletingBlog) {\r\n\t\t\t\tif (!isBlogDeleted) {\r\n\t\t\t\t\tsetIsBlogDeleted(true);\r\n\t\t\t\t\tconsole.log(\"BlogEditionSection confirms: Blog was deleted\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetStartDeletingBlog(false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [startDeletingBlog, isBlogDeleted, blog]);\r\n\r\n\t//===================================== render() =====================================\r\n\r\n\tif (!blog && !startDeletingBlog && !isBlogDeleted)\r\n\t\treturn <p>Downloading data or there is no data...</p>;\r\n\r\n\tif (startDeletingBlog)\r\n\t\treturn <p className=\"text-danger text-center\">Deleting Blog... please wait...</p>;\r\n\r\n\tif (isBlogDeleted && !startDeletingBlog && !blog)\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text-success text-center\">\r\n\t\t\t\t\tYour blog && all articles it contained were deleted successfully!\r\n\t\t\t\t</p>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto=\"/dashboard/user-blogs\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tclassName=\"btn btn-outline-info mb-3 mt-2 d-block\"\r\n\t\t\t\t>\r\n\t\t\t\t\tGo back to your blogs list\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"blog-edition-section row\">\r\n\t\t\t<div className=\"col-lg\">\r\n\t\t\t\t<Form\r\n\t\t\t\t\tstructure={CREATE_BLOG}\r\n\t\t\t\t\tdata={blog.metadata}\r\n\t\t\t\t\tonSubmit={handleBlogEditionFormSubmit}\r\n\t\t\t\t\ttext=\"save changes\"\r\n\t\t\t\t\tto=\"/dashboard/user-blogs\"\r\n\t\t\t\t\tformClassname=\"blog-edition-form\"\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"d-grid\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclassName=\"btn btn-outline-danger mb-3 mt-2\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\t\t\t\t\tconst wantToDeleteBlog = confirm(\r\n\t\t\t\t\t\t\t\t\"Are you sure, you want to delete this blog & all articles this blog contains forever? There's no turning back... Delete blog?\"\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tif (wantToDeleteBlog) {\r\n\t\t\t\t\t\t\t\tsetStartDeletingBlog(true);\r\n\t\t\t\t\t\t\t\t//deleteBlog(blogKey, blogLink, blog.articlesListOrderedByKeys);\r\n\t\t\t\t\t\t\t\t//alert(\"At the moment you can not delete blog. Check the note in about section.\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDelete blog\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"col-lg\">\r\n\t\t\t\t<h4 className=\"text-center\">Articles</h4>\r\n\t\t\t\t<hr />\r\n\t\t\t\t{blog && blog.articlesListOrderedByKeys ? (\r\n\t\t\t\t\tObject.entries(blog.articlesListOrderedByKeys).map((article) => (\r\n\t\t\t\t\t\t<div key={article[0]}>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<div className=\"col-md\">\r\n\t\t\t\t\t\t\t\t\t<h5>{article[1].title}</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"col-md text-end\">\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={\"/edit-article/\" + blogKey + \"/\" + article[0]}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary d-inline\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"bi bi-pencil\" />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tto={\"/blogs/\" + blogLink + \"/\" + article[1].link}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-secondary d-inline\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"bi bi-eye\" />\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-danger d-inline\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tconst wantToDeleteArticle =\r\n\t\t\t\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-restricted-globals\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfirm(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Are you sure, you want to delete this article from this blog forever? There's no turning back... Delete article?\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\tif (wantToDeleteArticle) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t//articleKey, title, link, blogKey\r\n\t\t\t\t\t\t\t\t\t\t\t\tdeleteArticle(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tarticle[0],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tarticle[1].title,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tarticle[1].link,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tblogKey\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t//alert(\"At the moment you can not delete article. Check the note in about section.\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className=\"bi bi-trash\" />\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div>There are no articles in the blog...</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useDatabase } from \"../../../hooks/use-database\";\r\nimport { Link, Switch, Route, useRouteMatch } from \"react-router-dom\";\r\nimport BlogEditionSection from \"./BlogEditionSection\";\r\nimport LinkButton from \"../../atoms/LinkButton\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function UserBlogsSection() {\r\n\tlet { path, url } = useRouteMatch();\r\n\r\n\tconst { userBlogsList, fetchUserBlogsList } = useDatabase();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchUserBlogsList();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className=\"user-blogs-section-in-dashboard\">\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path={path}>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<LinkButton to=\"/create-blog\" style=\"info mb-3\" text=\"create new blog\" />\r\n\t\t\t\t\t\t{userBlogsList ? (\r\n\t\t\t\t\t\t\tObject.entries(userBlogsList).map((blog) => (\r\n\t\t\t\t\t\t\t\t<div key={blog[0]}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link to={url + \"/\" + blog[1].link}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5>{blog[1].title}</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4 text-end\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"/create-article/\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tblog[0] +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"/\" +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tblog[1].title\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-info\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"bi bi-plus-square me-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={`/blogs/${blog[1].link}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"bi bi-eye me-2\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<h5 className=\"text-center\">\r\n\t\t\t\t\t\t\t\t\tThere are no blogs yet... Create one!\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={path + \"/:blogLink\"}>\r\n\t\t\t\t\t<BlogEditionSection />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { Link, Switch, Route, useRouteMatch } from \"react-router-dom\";\r\nimport UserDataSection from \"../page-sections/dashboard/UserDataSection\";\r\nimport UserBlogsSection from \"../page-sections/dashboard/UserBlogsSection\";\r\nimport { useDatabase } from \"../../hooks/use-database\";\r\n\r\nexport default function Dashboard({ userId }) {\r\n\tlet { path } = useRouteMatch();\r\n\r\n\tconst { fetchUserBlogsList } = useDatabase();\r\n\r\n\tif (!userId) return <p>You need to be logged to see your dashboard...</p>;\r\n\r\n\treturn (\r\n\t\t<div className=\"dashboard-page\">\r\n\t\t\t<nav className=\"dashboard-nav text-center\">\r\n\t\t\t\t<Link to={`/dashboard/user-data`} className=\"me-2\">\r\n\t\t\t\t\tYour profile data\r\n\t\t\t\t</Link>\r\n\t\t\t\t<span> | </span>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tto={`/dashboard/user-blogs`}\r\n\t\t\t\t\tclassName=\"ms-2\"\r\n\t\t\t\t\tonClick={() => fetchUserBlogsList(userId)}\r\n\t\t\t\t>\r\n\t\t\t\t\tYour blogs\r\n\t\t\t\t</Link>\r\n\t\t\t</nav>\r\n\t\t\t<hr />\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path={path}>\r\n\t\t\t\t\t<UserDataSection />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={`${path}/user-data`}>\r\n\t\t\t\t\t<UserDataSection />\r\n\t\t\t\t</Route>\r\n\t\t\t\t<Route path={`${path}/user-blogs`}>\r\n\t\t\t\t\t<UserBlogsSection />\r\n\t\t\t\t</Route>\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { Link } from \"react-router-dom\";\r\n\r\nexport default function BloggerCard({ bloggerData }) {\r\n\treturn (\r\n\t\t<div className=\"blogger-card\">\r\n\t\t\t<hr />\r\n\t\t\t<Link\r\n\t\t\t\tto={\"bloggers/\" + bloggerData.userName}\r\n\t\t\t\tclassName=\"d-block my-2\"\r\n\t\t\t\tstyle={{ textDecoration: \"none\" }}\r\n\t\t\t>\r\n\t\t\t\t<i className=\"bi bi-person-circle me-2\"></i>\r\n\t\t\t\t{bloggerData.firstName + \" \" + bloggerData.lastName + \" | @\" + bloggerData.userName}\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useLists } from \"../../hooks/use-lists\";\r\nimport BloggerCard from \"../molecules/BloggerCard\";\r\n\r\nexport default function Bloggers() {\r\n\tconst { fetchUsersListOrderedByUserName, usersListOrderedByUserName } = useLists();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!usersListOrderedByUserName) {\r\n\t\t\tfetchUsersListOrderedByUserName();\r\n\t\t}\r\n\t}, [usersListOrderedByUserName]);\r\n\r\n\tif (!usersListOrderedByUserName)\r\n\t\treturn <p>Downloading bloggers list or... there are no bloggers</p>;\r\n\r\n\treturn (\r\n\t\t<section className=\"bloggers-page\">\r\n\t\t\t<h1>Bloggers</h1>\r\n\t\t\t<nav className=\"bloggers-list\">\r\n\t\t\t\t{Object.entries(usersListOrderedByUserName).map((blogger) => (\r\n\t\t\t\t\t<BloggerCard\r\n\t\t\t\t\t\tkey={blogger[0]}\r\n\t\t\t\t\t\tbloggerData={{ ...blogger[1], userName: blogger[0] }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))}\r\n\t\t\t</nav>\r\n\t\t</section>\r\n\t);\r\n}\r\n","import { useBlog } from \"../../hooks/use-blog\";\r\nimport convertTitleIntoLink from \"../../functions/convertTitleIntoLink\";\r\nimport Form from \"../organisms/Form\";\r\nimport { CREATE_BLOG } from \"../../initial-data/form-structure-templates\";\r\n\r\nexport default function CreateBlog() {\r\n\tconst { addBlog } = useBlog();\r\n\r\n\tfunction handleSubmit(blog) {\r\n\t\tif (blog.title.replace(/\\s/g, \"\").length && blog.description.replace(/\\s/g, \"\").length) {\r\n\t\t\tconst link = convertTitleIntoLink(blog.title);\r\n\t\t\tconst newBlogDataWithLink = {\r\n\t\t\t\t...blog,\r\n\t\t\t\tlink: link,\r\n\t\t\t};\r\n\t\t\taddBlog(newBlogDataWithLink);\r\n\t\t} else {\r\n\t\t\talert(\r\n\t\t\t\t\"You need to complete all input fields (not only white spaces...) to create new blog... Try again!\"\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"create-blog-section container\">\r\n\t\t\t<h1>Create new blog!</h1>\r\n\t\t\t<hr />\r\n\t\t\t<Form\r\n\t\t\t\tstructure={CREATE_BLOG}\r\n\t\t\t\ttext=\"create blog\"\r\n\t\t\t\tto=\"/dashboard/user-blogs\"\r\n\t\t\t\tformClassname=\"create-blog-form\"\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t//onSubmit={() => alert(\"I'm currently updating the app according to new database structure & security rules, so you can't create a blog at the moment... Sorry, wait a few days!\")}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import ReactMarkdown from \"react-markdown\";\r\nimport remarkGfm from \"remark-gfm\";\r\n\r\nexport default function MarkdownEditor({ articleData, setArticleData }) {\r\n\treturn (\r\n\t\t<div className=\"row\">\r\n\t\t\t<div className=\"Editor col-lg mt-2 mx-2\" style={{ marginBottom: 90 }}>\r\n\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\tWrite your content here using Markdown Syntax (ommit title)\r\n\t\t\t\t</p>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tdefaultValue={articleData.content}\r\n\t\t\t\t\tonChange={(e) => setArticleData({ ...articleData, content: e.target.value })}\r\n\t\t\t\t\tstyle={{ width: \"100%\", height: \"80%\" }}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"RenderedView col-lg m-2\">\r\n\t\t\t\t<p className=\"text-center\">\r\n\t\t\t\t\tHere you can see how your article would be looking like\r\n\t\t\t\t</p>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>{articleData.title}</h1>\r\n\t\t\t\t\t<ReactMarkdown children={articleData.content} remarkPlugins={[remarkGfm]} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\n/*\r\n<button\r\n                    type=\"button\"\r\n                    className=\"btn btn-success my-2\"\r\n                    onClick={() => console.log(contentForEdition)}\r\n                >Save changes</button>\r\n                */\r\n\r\n/*\r\n# Finally I'm used!\r\n\r\nFinally this markdown editor will be used in real-life project - Blogging Platform!\r\n\r\nI've made it separately a few days ago & now I can use this extra feature to let my users:\r\n\r\n- create articles\r\n- edit them\r\n- and format text whatever they like!\r\n*/\r\n","import { useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport MarkdownEditor from \"../page-sections/create-article/MarkdownEditor\";\r\nimport { useArticle } from \"../../hooks/use-article\";\r\nimport convertTitleIntoLink from \"../../functions/convertTitleIntoLink\";\r\n\r\nexport default function CreateArticlePage() {\r\n\tconst { blogKey } = useParams();\r\n\tconst { blogTitle } = useParams();\r\n\r\n\tconst { addArticle } = useArticle();\r\n\r\n\tconst [newArticleData, setNewArticleData] = useState({\r\n\t\ttitle: \"\",\r\n\t\tdescription: \"\",\r\n\t\tcontent: \"\",\r\n\t});\r\n\r\n\tfunction handleSubmit() {\r\n\t\tif (\r\n\t\t\tnewArticleData.title.replace(/\\s/g, \"\").length &&\r\n\t\t\tnewArticleData.description.replace(/\\s/g, \"\").length\r\n\t\t) {\r\n\t\t\tconst articleLink = convertTitleIntoLink(newArticleData.title);\r\n\t\t\tconst date = new Date();\r\n\t\t\tconst day = date.getUTCDate();\r\n\t\t\tconst month = date.getUTCMonth() + 1;\r\n\t\t\tconst year = date.getUTCFullYear();\r\n\t\t\tconst createdAt = year + \".\" + month + \".\" + day;\r\n\t\t\tconst newArticleDataWithLink = {\r\n\t\t\t\t...newArticleData,\r\n\t\t\t\tlink: articleLink,\r\n\t\t\t\tcreatedAt: createdAt,\r\n\t\t\t};\r\n\t\t\taddArticle(blogKey, blogTitle, newArticleDataWithLink);\r\n\t\t} else {\r\n\t\t\talert(\r\n\t\t\t\t\"You need to complete all input fields (not only white spaces...) to create new article... Try again!\"\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"create-article-page container\">\r\n\t\t\t<form className=\"create-article-form\">\r\n\t\t\t\t<h1>Create new article!</h1>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg mb-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"title\"\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetNewArticleData({ ...newArticleData, title: e.target.value })\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg mb-2\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tplaceholder=\"description\"\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetNewArticleData({\r\n\t\t\t\t\t\t\t\t\t...newArticleData,\r\n\t\t\t\t\t\t\t\t\tdescription: e.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<hr />\r\n\t\t\t<MarkdownEditor articleData={newArticleData} setArticleData={setNewArticleData} />\r\n\t\t\t<Link\r\n\t\t\t\tto=\"/dashboard/user-blogs\"\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclassName=\"btn btn-primary mb-3\"\r\n\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t//onClick={() => alert(\"I'm currently updating the app according to new database structure & security rules, so you can't create an article at the moment... Sorry, wait a few days!\")}\r\n\t\t\t>\r\n\t\t\t\tCreate new article\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default function FooterLink({ href, text }) {\r\n\treturn (\r\n\t\t<a\r\n\t\t\tclassName=\"footer-link d-inline me-2 ms-2\"\r\n\t\t\tstyle={{ textDecoration: \"none\" }}\r\n\t\t\thref={href}\r\n\t\t\ttarget=\"_blank\"\r\n\t\t\trel=\"noreferrer\"\r\n\t\t>\r\n\t\t\t{text}\r\n\t\t</a>\r\n\t);\r\n}\r\n","import FooterLink from \"../atoms/FooterLink\";\r\n\r\nconst FOOTER_LINKS = [\r\n\t{\r\n\t\thref: \"https://github.com/vadimgierko/blogging-platform\",\r\n\t\ttext: \"Blogging Platform\",\r\n\t},\r\n\t{\r\n\t\thref: \"https://github.com/vadimgierko/markdown-text-editor\",\r\n\t\ttext: \"Markdown Editor\",\r\n\t},\r\n\t{\r\n\t\thref: \"https://github.com/vadimgierko\",\r\n\t\ttext: \"Vadim Gierko\",\r\n\t},\r\n];\r\n\r\nexport default function Footer() {\r\n\treturn (\r\n\t\t<div className=\"footer text-center text-muted\">\r\n\t\t\t<hr />\r\n\t\t\t<FooterLink href={FOOTER_LINKS[0].href} text={FOOTER_LINKS[0].text} />\r\n\t\t\t&\r\n\t\t\t<FooterLink href={FOOTER_LINKS[1].href} text={FOOTER_LINKS[1].text} />\r\n\t\t\t&copy; 2021 - 2022\r\n\t\t\t<FooterLink href={FOOTER_LINKS[2].href} text={FOOTER_LINKS[2].text} />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { createContext, useContext, useState } from \"react\";\r\nimport { database } from \"../firebase\";\r\n\r\nimport { ref, onValue } from \"firebase/database\";\r\n\r\nconst BloggerContext = createContext();\r\n\r\nexport const useBlogger = () => useContext(BloggerContext);\r\n\r\nexport function BloggerProvider({ children }) {\r\n\tconst [bloggerPublicData, setBloggerPublicData] = useState();\r\n\tconst [bloggerBlogsList, setBloggerBlogsList] = useState();\r\n\tconst [bloggerId, setBloggerId] = useState();\r\n\r\n\tconst fetchBloggerPublicData = (userId) => {\r\n\t\tconst bloggerPublicDataRef = ref(database, \"users/\" + userId + \"/publicData/data\");\r\n\t\tonValue(bloggerPublicDataRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tconsole.log(\"blogger public data object:\", data);\r\n\t\t\tsetBloggerPublicData(data);\r\n\t\t});\r\n\t};\r\n\r\n\tconst fetchBloggerBlogsList = (userId) => {\r\n\t\t//================= ordered by keys\r\n\t\tconst bloggerBlogsListRef = ref(database, \"users/\" + userId + \"/publicData/blogs\");\r\n\t\tonValue(bloggerBlogsListRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tconsole.log(\"blogger blogs list object:\", data);\r\n\t\t\tsetBloggerBlogsList(data);\r\n\t\t});\r\n\t};\r\n\r\n\tconst getBloggerIdByUserName = (userName) => {\r\n\t\tconst bloggerRef = ref(database, \"users/listOrderedByUserName/\" + userName);\r\n\t\tonValue(bloggerRef, (snapshot) => {\r\n\t\t\tconst data = snapshot.val();\r\n\t\t\tif (data) {\r\n\t\t\t\tconsole.log(\"blogger id got by user name:\", data.userId);\r\n\t\t\t\tsetBloggerId(data.userId);\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log(\"There is no user with user name:\", userName);\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tconst value = {\r\n\t\tbloggerPublicData,\r\n\t\tbloggerBlogsList,\r\n\t\tbloggerId,\r\n\t\tfetchBloggerPublicData,\r\n\t\tfetchBloggerBlogsList,\r\n\t\tgetBloggerIdByUserName,\r\n\t};\r\n\r\n\treturn <BloggerContext.Provider value={value}>{children}</BloggerContext.Provider>;\r\n}\r\n","import { useBlogger } from \"../../hooks/use-blogger\";\r\nimport { useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\n\r\nexport default function Blogger() {\r\n\tconst { userName } = useParams();\r\n\r\n\tconst {\r\n\t\tbloggerPublicData,\r\n\t\tfetchBloggerPublicData,\r\n\t\tbloggerBlogsList,\r\n\t\tfetchBloggerBlogsList,\r\n\t\tgetBloggerIdByUserName,\r\n\t\tbloggerId,\r\n\t} = useBlogger();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (userName) {\r\n\t\t\tgetBloggerIdByUserName(userName);\r\n\t\t}\r\n\t}, [userName]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (bloggerId) {\r\n\t\t\tfetchBloggerPublicData(bloggerId);\r\n\t\t\tfetchBloggerBlogsList(bloggerId);\r\n\t\t}\r\n\t}, [bloggerId]);\r\n\r\n\tif (!bloggerPublicData)\r\n\t\treturn (\r\n\t\t\t<p>\r\n\t\t\t\tDownloading data or ... there is no blogger of user name:{\" \"}\r\n\t\t\t\t{bloggerPublicData && bloggerPublicData.userName}\r\n\t\t\t</p>\r\n\t\t);\r\n\r\n\treturn (\r\n\t\t<div className=\"blogger-page\">\r\n\t\t\t<h1>{bloggerPublicData.firstName + \" \" + bloggerPublicData.lastName}</h1>\r\n\t\t\t<hr />\r\n\t\t\t<p>user name: {\"@\" + bloggerPublicData.userName}</p>\r\n\t\t\t<nav className=\"blogger-blogs\">\r\n\t\t\t\t{bloggerBlogsList ? (\r\n\t\t\t\t\tObject.entries(bloggerBlogsList).map((blog) => (\r\n\t\t\t\t\t\t<Link key={blog[0]} to={\"/blogs/\" + blog[1].link}>\r\n\t\t\t\t\t\t\t<h3>{blog[1].title}</h3>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t))\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<p>Downloading blogger blogs or there are no blogs...</p>\r\n\t\t\t\t)}\r\n\t\t\t</nav>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useEffect } from \"react\";\r\nimport ReactMarkdown from \"react-markdown\";\r\nimport remarkGfm from \"remark-gfm\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useArticle } from \"../../hooks/use-article\";\r\nimport SectionHeader from \"../molecules/SectionHeader\";\r\n\r\nexport default function Article() {\r\n\tconst { articleLink } = useParams();\r\n\r\n\tconst { article, articleKey, fetchArticle, getArticleKeyByLink } = useArticle();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (articleLink) {\r\n\t\t\tgetArticleKeyByLink(articleLink);\r\n\t\t}\r\n\t}, [articleLink]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (articleKey) {\r\n\t\t\tfetchArticle(articleKey);\r\n\t\t}\r\n\t}, [articleKey]);\r\n\r\n\tif (!article) return <p>Downloading article or there is no such article...</p>;\r\n\r\n\treturn (\r\n\t\t<div className=\"article-page\">\r\n\t\t\t<article className=\"article\">\r\n\t\t\t\t<SectionHeader item={article.metadata} headerClassname=\"article-header\" />\r\n\t\t\t\t<hr />\r\n\t\t\t\t<ReactMarkdown children={article.metadata.content} remarkPlugins={[remarkGfm]} />\r\n\t\t\t</article>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useDatabase } from \"../../hooks/use-database\";\r\nimport Form from \"../organisms/Form\";\r\nimport { SIGN_IN } from \"../../initial-data/form-structure-templates\";\r\n\r\nexport default function SignIn() {\r\n\tconst { signIn } = useDatabase();\r\n\r\n\tfunction handleSubmit(signInData) {\r\n\t\tif (signInData.email.replace(/\\s/g, \"\").length) {\r\n\t\t\tif (signInData.password.replace(/\\s/g, \"\").length) {\r\n\t\t\t\tsignIn(signInData);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"You need to input your password (& not only white spaces...) to log in!\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\talert(\"You need to input your email (& not only white spaces...) to log in!\");\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"sign-in-page container\">\r\n\t\t\t<h1>Sign in!</h1>\r\n\t\t\t<hr />\r\n\t\t\t<Form\r\n\t\t\t\tformClassname=\"sign-in-form\"\r\n\t\t\t\tstructure={SIGN_IN}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\tto=\"/dashboard\"\r\n\t\t\t\ttext=\"log in\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useDatabase } from \"../../hooks/use-database\";\r\nimport Form from \"../organisms/Form\";\r\nimport { SIGN_UP } from \"../../initial-data/form-structure-templates\";\r\n\r\nexport default function SignUp() {\r\n\tconst { signUp } = useDatabase();\r\n\r\n\tfunction handleSubmit(signUpData) {\r\n\t\tif (\r\n\t\t\tsignUpData.email.replace(/\\s/g, \"\").length &&\r\n\t\t\tsignUpData.firstName.replace(/\\s/g, \"\").length &&\r\n\t\t\tsignUpData.lastName.replace(/\\s/g, \"\").length &&\r\n\t\t\tsignUpData.password.replace(/\\s/g, \"\").length &&\r\n\t\t\tsignUpData.userName.replace(/\\s/g, \"\").length\r\n\t\t) {\r\n\t\t\tsignUp(signUpData);\r\n\t\t} else {\r\n\t\t\talert(\r\n\t\t\t\t\"You need to complete all input fields (not only white spaces...) to create an account!\"\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"sign-up-page container\">\r\n\t\t\t<h1>Create account!</h1>\r\n\t\t\t<hr />\r\n\t\t\t<Form\r\n\t\t\t\tformClassname=\"sign-up-form\"\r\n\t\t\t\tstructure={SIGN_UP}\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t\t//onSubmit={() => alert(\"I'm currently updating the app according to new database structure & security rules, so you can't create an account at the moment... Sorry, wait a few days!\")}\r\n\t\t\t\tto=\"/dashboard\"\r\n\t\t\t\ttext=\"sign up\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default function About() {\r\n\treturn (\r\n\t\t<article className=\"about-page\">\r\n\t\t\t<h1>What you can do with Blogging Platform</h1>\r\n\t\t\t<hr />\r\n\t\t\t<ul>\r\n\t\t\t\t<li>create & run your blog (or many blogs) after creating a free user account</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\twrite & edit your articles with simple & intuitive{\" \"}\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref=\"https://vadimgierko.github.io/markdown-text-editor/\"\r\n\t\t\t\t\t\trel=\"noreferrer\"\r\n\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tmarkdown text editor\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t, which was also created by myself\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>read published blogs without authentication</li>\r\n\t\t\t</ul>\r\n\t\t\t<p>\r\n\t\t\t\tBlogging Platform is a responsive full-stack single-page application, which supports\r\n\t\t\t\tall kinds of CRUD features, in which I have used all of my previous knowledge and\r\n\t\t\t\tskills in the field of front-end development (React, Bootstrap) and realtime\r\n\t\t\t\tdatabase integration (Firebase).\r\n\t\t\t</p>\r\n\t\t\t<p className=\"text-success\">\r\n\t\t\t\tRecently the app was updated and rewritten (basically from scratch) and adapted to:\r\n\t\t\t</p>\r\n\t\t\t<ul className=\"text-success\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\tnew app structure according to Atomic Web Design pattern (so now code is split,\r\n\t\t\t\t\tand components are reused more efficiently)\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\tnew, more flatten realtime database structure (so now the app downloads up to 10\r\n\t\t\t\t\ttimes less data & does it when necessary)\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\tnew security rules (so now the app is protected from malicious users, and that's\r\n\t\t\t\t\tvery hard to download big portions of data, for example it's impossible to\r\n\t\t\t\t\tdownload the whole database)\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t<h3>Technologies used in Blogging Platform development</h3>\r\n\t\t\t<hr />\r\n\t\t\t<ul>\r\n\t\t\t\t<li>React 17</li>\r\n\t\t\t\t<li>React Router 5.2 (HashRouter, dynamic & nested routing)</li>\r\n\t\t\t\t<li>React Context</li>\r\n\t\t\t\t<li>React Markdown 7 & remark-gfm</li>\r\n\t\t\t\t<li>Firebase 9.1 (auth, realtime database, security rules)</li>\r\n\t\t\t\t<li>Bootstrap 5.1</li>\r\n\t\t\t\t<li>Bootswatch 5.1</li>\r\n\t\t\t\t<li>GitHub Pages 3.2</li>\r\n\t\t\t\t<li>Atomic Web Design pattern</li>\r\n\t\t\t</ul>\r\n\t\t</article>\r\n\t);\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport MarkdownEditor from \"../page-sections/create-article/MarkdownEditor\";\r\nimport { useArticle } from \"../../hooks/use-article\";\r\nimport convertTitleIntoLink from \"../../functions/convertTitleIntoLink\";\r\n\r\nexport default function UpdateArticle() {\r\n\t//const { blogKey } = useParams();\r\n\tconst { articleKey } = useParams();\r\n\r\n\tconst { article, fetchArticle, updateArticle } = useArticle();\r\n\r\n\tconst [updatedArticleData, setUpdatedArticleData] = useState();\r\n\r\n\tfunction handleSubmit() {\r\n\t\tif (\r\n\t\t\tupdatedArticleData.title.replace(/\\s/g, \"\").length &&\r\n\t\t\tupdatedArticleData.description.replace(/\\s/g, \"\").length\r\n\t\t) {\r\n\t\t\t// set date of update:\r\n\t\t\tconst date = new Date();\r\n\t\t\tconst day = date.getUTCDate();\r\n\t\t\tconst month = date.getUTCMonth() + 1;\r\n\t\t\tconst year = date.getUTCFullYear();\r\n\t\t\tconst updatedAt = year + \".\" + month + \".\" + day;\r\n\t\t\t// update updatedData with new link & updateAt date:\r\n\t\t\tlet updatedArticleDataWithLink;\r\n\t\t\tlet isLinkChanged = false;\r\n\t\t\t// update article link in the case if title changed:\r\n\t\t\tif (\r\n\t\t\t\tarticle &&\r\n\t\t\t\tarticle.metadata &&\r\n\t\t\t\tarticle.metadata.title !== updatedArticleData.title\r\n\t\t\t) {\r\n\t\t\t\tisLinkChanged = true;\r\n\t\t\t\tconst articleLink = convertTitleIntoLink(updatedArticleData.title);\r\n\t\t\t\tupdatedArticleDataWithLink = {\r\n\t\t\t\t\t...updatedArticleData,\r\n\t\t\t\t\tlink: articleLink,\r\n\t\t\t\t\tupdatedAt: updatedAt,\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tupdatedArticleDataWithLink = {\r\n\t\t\t\t\t...updatedArticleData,\r\n\t\t\t\t\tupdatedAt: updatedAt,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tupdateArticle(\r\n\t\t\t\tupdatedArticleDataWithLink,\r\n\t\t\t\tarticleKey,\r\n\t\t\t\tisLinkChanged,\r\n\t\t\t\tisLinkChanged && article.metadata.link\r\n\t\t\t);\r\n\t\t\tsetUpdatedArticleData(null);\r\n\t\t} else {\r\n\t\t\talert(\r\n\t\t\t\t\"You need to complete all input fields (not only white spaces...) to create new article... Try again!\"\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (articleKey) {\r\n\t\t\tfetchArticle(articleKey);\r\n\t\t}\r\n\t}, [articleKey]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (article) {\r\n\t\t\tconsole.log(\"prev article metadata:\", article.metadata);\r\n\t\t\t/*\r\n            author: \"Test User\"\r\n            blogKey: \"-MtYRswcLW0tm4F2dcRL\"\r\n            blogTitle: \"New Test Blog\"\r\n            content: \"...article,\\n          author: userPublicData.firstName + \\\" \\\" + userPublicData.lastName,\\n          userName: userPublicData.userName,\\n          userId: user.uid,\\n          blogKey: blogKey,\\n          blogTitle: blogTitle\"\r\n            createdAt: \"2022.1.16\"\r\n            description: \"I hope it would work finally!\"\r\n            link: \"new-test-article\"\r\n            title: \"New Test Article\"\r\n            userId: \"7M5XFfl36vSfhmyAkShjHDFuQnA3\"\r\n            userName: \"testuser\"\r\n            */\r\n\t\t\tsetUpdatedArticleData(article.metadata);\r\n\t\t}\r\n\t}, [article]);\r\n\r\n\tif (!updatedArticleData) return <p>Downloading article data...</p>;\r\n\r\n\treturn (\r\n\t\t<div className=\"update-article-page container\">\r\n\t\t\t<form className=\"update-article-form\">\r\n\t\t\t\t<h1>Update article!</h1>\r\n\t\t\t\t<hr />\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-lg mb-2\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tdefaultValue={updatedArticleData.title}\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetUpdatedArticleData({\r\n\t\t\t\t\t\t\t\t\t...updatedArticleData,\r\n\t\t\t\t\t\t\t\t\ttitle: e.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"col-lg mb-2\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\tdefaultValue={updatedArticleData.description}\r\n\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\tsetUpdatedArticleData({\r\n\t\t\t\t\t\t\t\t\t...updatedArticleData,\r\n\t\t\t\t\t\t\t\t\tdescription: e.target.value,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<hr />\r\n\t\t\t<MarkdownEditor\r\n\t\t\t\tarticleData={updatedArticleData}\r\n\t\t\t\tsetArticleData={setUpdatedArticleData}\r\n\t\t\t/>\r\n\t\t\t<Link\r\n\t\t\t\tto=\"/dashboard/user-blogs\"\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tclassName=\"btn btn-primary mb-3\"\r\n\t\t\t\tonClick={handleSubmit}\r\n\t\t\t\t//onClick={() => alert(\"I'm currently updating the app according to new database structure & security rules, so you can't update an article at the moment... Sorry, wait a few days!\")}\r\n\t\t\t>\r\n\t\t\t\tUpdate article\r\n\t\t\t</Link>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import \"./App.css\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport Header from \"./components/organisms/Header\";\r\nimport Blogs from \"./components/pages/Blogs\";\r\nimport Blog from \"./components/pages/Blog\";\r\nimport Dashboard from \"./components/pages/Dashboard\";\r\nimport Bloggers from \"./components/pages/Bloggers\";\r\nimport CreateBlog from \"./components/pages/CreateBlog\";\r\nimport CreateArticle from \"./components/pages/CreateArticle\";\r\nimport Footer from \"./components/organisms/Footer\";\r\nimport Blogger from \"./components/pages/Blogger\";\r\nimport { useDatabase } from \"./hooks/use-database\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Article from \"./components/pages/Article\";\r\nimport SignIn from \"./components/pages/SignIn\";\r\nimport SignUp from \"./components/pages/SignUp\";\r\nimport About from \"./components/pages/About\";\r\nimport UpdateArticle from \"./components/pages/UpdateArticle\";\r\n\r\nexport default function App() {\r\n\tconst [userId, setUserId] = useState(null);\r\n\r\n\tconst { user, userPublicData, logOut } = useDatabase();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (user) {\r\n\t\t\tsetUserId(user.uid);\r\n\t\t} else {\r\n\t\t\tsetUserId(null);\r\n\t\t}\r\n\t}, [user]);\r\n\r\n\treturn (\r\n\t\t<div className=\"App\">\r\n\t\t\t<Header\r\n\t\t\t\tuserFirstName={user && userPublicData ? userPublicData.firstName : null}\r\n\t\t\t\tuserLastName={user && userPublicData ? userPublicData.lastName : null}\r\n\t\t\t\tlogOut={logOut}\r\n\t\t\t/>\r\n\t\t\t<main className=\"container\" style={{ marginTop: 120 }}>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<About />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/login\">\r\n\t\t\t\t\t\t<SignIn />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/signup\">\r\n\t\t\t\t\t\t<SignUp />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/dashboard\">\r\n\t\t\t\t\t\t<Dashboard userId={userId} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/blogs/:blogLink/:articleLink\">\r\n\t\t\t\t\t\t<Article />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/blogs/:blogLink\">\r\n\t\t\t\t\t\t<Blog />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/blogs\">\r\n\t\t\t\t\t\t<Blogs />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/bloggers/:userName\">\r\n\t\t\t\t\t\t<Blogger />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/bloggers\">\r\n\t\t\t\t\t\t<Bloggers />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/create-blog\">\r\n\t\t\t\t\t\t<CreateBlog />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/create-article/:blogKey/:blogTitle\">\r\n\t\t\t\t\t\t<CreateArticle />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/edit-article/:blogKey/:articleKey\">\r\n\t\t\t\t\t\t<UpdateArticle />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</main>\r\n\t\t\t<Footer />\r\n\t\t</div>\r\n\t);\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport \"bootswatch/dist/lux/bootstrap.min.css\";\r\nimport \"bootstrap-icons/font/bootstrap-icons.css\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { DatabaseProvider } from \"./hooks/use-database\";\r\nimport { BlogProvider } from \"./hooks/use-blog\";\r\nimport { ArticleProvider } from \"./hooks/use-article\";\r\nimport { BloggerProvider } from \"./hooks/use-blogger\";\r\nimport { ListsProvider } from \"./hooks/use-lists\";\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<HashRouter>\r\n\t\t\t<DatabaseProvider>\r\n\t\t\t\t<BlogProvider>\r\n\t\t\t\t\t<ArticleProvider>\r\n\t\t\t\t\t\t<BloggerProvider>\r\n\t\t\t\t\t\t\t<ListsProvider>\r\n\t\t\t\t\t\t\t\t<App />\r\n\t\t\t\t\t\t\t</ListsProvider>\r\n\t\t\t\t\t\t</BloggerProvider>\r\n\t\t\t\t\t</ArticleProvider>\r\n\t\t\t\t</BlogProvider>\r\n\t\t\t</DatabaseProvider>\r\n\t\t</HashRouter>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}